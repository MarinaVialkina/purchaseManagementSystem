{"version":3,"file":"helpers.js","names":["range","isNumber","isString","getStyleTopOffsets","topOffsets","result","index","length","getStyleByArray","array","cssVarName","print","getStyleLeftOffsetsForStickyColumns","printTableColumnStickyHorizontalOffsetValue","getStyleRightOffsetsForStickyColumns","getGridTemplate","Array","map","_","join","printHorizontalOffsetPart","reverse","value","indexArray","printSize"],"sources":["../../../../../../src/components/Table/TableBody/helpers.ts"],"sourcesContent":["import { range } from '##/utils/array';\nimport { isNumber, isString } from '##/utils/type-guards';\n\nexport const getStyleTopOffsets = (topOffsets: number[]) => {\n  const result: Record<string, string> = {};\n\n  for (let index = 0; index < topOffsets.length; index++) {\n    result[`--table-lowheader-top-offset-${index}`] = `${topOffsets[index]}px`;\n  }\n\n  return result;\n};\n\nexport const getStyleByArray = <T extends number | string | undefined>(\n  array: T[],\n  cssVarName: string,\n  print: string | ((value: T, index: number, array: T[]) => string) = 'px',\n) => {\n  let result = '';\n\n  for (let index = 0; index < array.length; index++) {\n    result += `${cssVarName}-${index}: ${\n      isString(print) ? array[index] + print : print(array[index], index, array)\n    }; `;\n  }\n\n  return result;\n};\n\nexport const getStyleLeftOffsetsForStickyColumns = (length: number) =>\n  getStyleByArray(\n    range(length),\n    '--table-column-sticky-left-offset',\n    printTableColumnStickyHorizontalOffsetValue(),\n  );\n\nexport const getStyleRightOffsetsForStickyColumns = (length: number) =>\n  getStyleByArray(\n    range(length),\n    '--table-column-sticky-right-offset',\n    printTableColumnStickyHorizontalOffsetValue(true),\n  );\n\nexport const getGridTemplate = (length: number): string =>\n  [...Array(length)]\n    .map((_, index) => `var(--table-column-size-${index})`)\n    .join(' ');\n\nconst printHorizontalOffsetPart =\n  (reverse: boolean, array: number[]) => (value: number) =>\n    reverse\n      ? `var(--table-column-size-${array.length - 1 - value})`\n      : `var(--table-column-size-${value})`;\n\nconst printTableColumnStickyHorizontalOffsetValue =\n  (reverse: boolean = false) =>\n  (index: number, _: number, array: number[]) => {\n    const indexArray = range(reverse ? array.length - 1 - index : index);\n    const value = indexArray.map(printHorizontalOffsetPart(reverse, array));\n\n    if (!value.length) {\n      return '0px';\n    }\n\n    if (value.length === 1) {\n      return value[0];\n    }\n\n    return `calc(${value.join(' + ')})`;\n  };\n\nexport const printSize = (value: number | undefined | string) => {\n  if (isNumber(value)) {\n    return `${value}px`;\n  }\n  if (isString(value)) {\n    return value;\n  }\n  return 'auto';\n};\n"],"mappings":"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"}