{"version":3,"file":"array.js","names":["sortBy","array","param","order","sortFn","a","b","compareFn","sort","updateAt","index","newItem","isExpand","fixedIndex","length","slice","putBefore","range","n","Array","keys","chunk","size","resIndex","result","groupBy","iteratee","reduce","value","key"],"sources":["../../../../src/utils/array.ts"],"sourcesContent":["export const sortBy = <T extends {}>(\n  array: T[],\n  param: keyof T,\n  order: 'asc' | 'desc' = 'asc',\n  sortFn = (a: T[keyof T], b: T[keyof T]): number => (a < b ? -1 : 1),\n): T[] => {\n  const compareFn = (a: T, b: T): number =>\n    (order === 'desc' ? -1 : 1) * sortFn(a[param], b[param]);\n\n  return [...array].sort(compareFn);\n};\n\nexport const updateAt = <T>(\n  array: T[],\n  index: number,\n  newItem: T,\n  isExpand = false,\n): T[] => {\n  const fixedIndex = index < 0 ? 0 : index;\n  if (fixedIndex >= array.length) {\n    return isExpand ? [...array, newItem] : array;\n  }\n  return [\n    ...array.slice(0, fixedIndex),\n    newItem,\n    ...array.slice(fixedIndex + (isExpand ? 0 : 1), array.length),\n  ];\n};\n\nexport const putBefore = <T>(array: T[], index: number, newItem: T): T[] =>\n  updateAt(array, index, newItem, true);\n\nexport const range = (n: number): number[] => [...Array(n).keys()];\n\nexport const chunk = <T>(array: T[], size: number): T[][] => {\n  let index = 0;\n  let resIndex = 0;\n\n  const result: T[][] = [];\n\n  while (index < array.length) {\n    result[resIndex++] = array.slice(index, (index += size));\n  }\n\n  return result;\n};\n\nexport const groupBy = <T, K extends keyof any>(\n  array: T[],\n  iteratee: (elem: T) => K,\n) =>\n  array.reduce((result, value) => {\n    const key = iteratee(value);\n\n    return {\n      ...result,\n      [key]: result[key] ? [...result[key], value] : [value],\n    };\n  }, {} as Record<K, T[]>);\n"],"mappings":";;;;;;;AAAA,OAAO,IAAMA,MAAM,GAAG,SAATA,MAAS,CACpBC,KADoB,EAEpBC,KAFoB,EAKZ;EAAA,IAFRC,KAEQ,uEAFgB,KAEhB;EAAA,IADRC,MACQ,uEADC,UAACC,CAAD,EAAgBC,CAAhB;IAAA,OAA2CD,CAAC,GAAGC,CAAJ,GAAQ,CAAC,CAAT,GAAa,CAAxD;EAAA,CACD;;EACR,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACF,CAAD,EAAOC,CAAP;IAAA,OAChB,CAACH,KAAK,KAAK,MAAV,GAAmB,CAAC,CAApB,GAAwB,CAAzB,IAA8BC,MAAM,CAACC,CAAC,CAACH,KAAD,CAAF,EAAWI,CAAC,CAACJ,KAAD,CAAZ,CADpB;EAAA,CAAlB;;EAGA,OAAO,mBAAID,KAAJ,EAAWO,IAAX,CAAgBD,SAAhB,CAAP;AACD,CAVM;AAYP,OAAO,IAAME,QAAQ,GAAG,SAAXA,QAAW,CACtBR,KADsB,EAEtBS,KAFsB,EAGtBC,OAHsB,EAKd;EAAA,IADRC,QACQ,uEADG,KACH;EACR,IAAMC,UAAU,GAAGH,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgBA,KAAnC;;EACA,IAAIG,UAAU,IAAIZ,KAAK,CAACa,MAAxB,EAAgC;IAC9B,OAAOF,QAAQ,gCAAOX,KAAP,IAAcU,OAAd,KAAyBV,KAAxC;EACD;;EACD,oCACKA,KAAK,CAACc,KAAN,CAAY,CAAZ,EAAeF,UAAf,CADL,IAEEF,OAFF,sBAGKV,KAAK,CAACc,KAAN,CAAYF,UAAU,IAAID,QAAQ,GAAG,CAAH,GAAO,CAAnB,CAAtB,EAA6CX,KAAK,CAACa,MAAnD,CAHL;AAKD,CAfM;AAiBP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAAIf,KAAJ,EAAgBS,KAAhB,EAA+BC,OAA/B;EAAA,OACvBF,QAAQ,CAACR,KAAD,EAAQS,KAAR,EAAeC,OAAf,EAAwB,IAAxB,CADe;AAAA,CAAlB;AAGP,OAAO,IAAMM,KAAK,GAAG,SAARA,KAAQ,CAACC,CAAD;EAAA,0BAA6BC,KAAK,CAACD,CAAD,CAAL,CAASE,IAAT,EAA7B;AAAA,CAAd;AAEP,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAIpB,KAAJ,EAAgBqB,IAAhB,EAAwC;EAC3D,IAAIZ,KAAK,GAAG,CAAZ;EACA,IAAIa,QAAQ,GAAG,CAAf;EAEA,IAAMC,MAAa,GAAG,EAAtB;;EAEA,OAAOd,KAAK,GAAGT,KAAK,CAACa,MAArB,EAA6B;IAC3BU,MAAM,CAACD,QAAQ,EAAT,CAAN,GAAqBtB,KAAK,CAACc,KAAN,CAAYL,KAAZ,EAAoBA,KAAK,IAAIY,IAA7B,CAArB;EACD;;EAED,OAAOE,MAAP;AACD,CAXM;AAaP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CACrBxB,KADqB,EAErByB,QAFqB;EAAA,OAIrBzB,KAAK,CAAC0B,MAAN,CAAa,UAACH,MAAD,EAASI,KAAT,EAAmB;IAC9B,IAAMC,GAAG,GAAGH,QAAQ,CAACE,KAAD,CAApB;IAEA,uCACKJ,MADL,2BAEGK,GAFH,EAESL,MAAM,CAACK,GAAD,CAAN,gCAAkBL,MAAM,CAACK,GAAD,CAAxB,IAA+BD,KAA/B,KAAwC,CAACA,KAAD,CAFjD;EAID,CAPD,EAOG,EAPH,CAJqB;AAAA,CAAhB"}