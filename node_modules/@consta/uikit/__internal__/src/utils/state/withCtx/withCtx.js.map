{"version":3,"file":"withCtx.js","names":["reatomContext","useCreateCtx","React","createElement","forwardRef","useContext","ProviderWithCtx","children","Provider","value","withCtx","component","props","ref","element"],"sources":["../../../../../../src/utils/state/withCtx/withCtx.tsx"],"sourcesContent":["import { reatomContext, useCreateCtx } from '@reatom/npm-react';\nimport React, { createElement, forwardRef, useContext } from 'react';\n\nconst ProviderWithCtx = ({ children }: { children: React.ReactNode }) =>\n  createElement(reatomContext.Provider, { value: useCreateCtx() }, children);\n\nexport const withCtx = <C, P extends {}>(component: C): C =>\n  forwardRef<HTMLElement, P>((props, ref) => {\n    const element = createElement(\n      component as unknown as React.ComponentType<P>,\n      {\n        ...(props as P),\n        ref,\n      },\n    );\n\n    if (useContext(reatomContext)) {\n      return element;\n    }\n\n    return <ProviderWithCtx>{element}</ProviderWithCtx>;\n  }) as unknown as C;\n"],"mappings":"qqBAAA,OAASA,aAAT,CAAwBC,YAAxB,KAA4C,mBAA5C,CACA,MAAOC,MAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,UAA3C,KAA6D,OAA7D,CAEA,GAAMC,gBAAe,CAAG,eAAGC,EAAH,GAAGA,QAAH,OACtBJ,cAAa,CAACH,aAAa,CAACQ,QAAf,CAAyB,CAAEC,KAAK,CAAER,YAAY,EAArB,CAAzB,CAAoDM,CAApD,CADS,CAAxB,CAGA,MAAO,IAAMG,QAAO,CAAG,SAAkBC,CAAlB,QACrBP,WAAU,CAAiB,SAACQ,CAAD,CAAQC,CAAR,CAAgB,CACzC,GAAMC,EAAO,CAAGX,aAAa,CAC3BQ,CAD2B,gCAGrBC,CAHqB,MAIzBC,GAAG,CAAHA,CAJyB,GAA7B,CADyC,MASrCR,WAAU,CAACL,aAAD,CAT2B,CAUhCc,CAVgC,CAalC,oBAAC,eAAD,MAAkBA,CAAlB,CACR,CAdS,CADW,CAAhB"}