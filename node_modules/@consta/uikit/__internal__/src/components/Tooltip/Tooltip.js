import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["isOpen","size","status","onSetDirection","offset","style","className","children","viewportRef","container"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import"./Tooltip.css";import React,{forwardRef,useMemo,useRef,useState}from"react";import{Transition}from"react-transition-group";import{useForkRef}from"../../hooks/useForkRef";import{animateTimeout,cnMixPopoverAnimate}from"../../mixs/MixPopoverAnimate";import{cnMixPopoverArrow}from"../../mixs/MixPopoverArrow/MixPopoverArrow";import{cn}from"../../utils/bem";import{Popover}from"../Popover";import{Text}from"../Text";import{generateDeps,generateThemeClassNames,ThemeContext,useTheme}from"../Theme";import{tooltipPropSizesDefault}from"./types";var cnTooltip=cn("Tooltip"),ARROW_SIZE=6,ARROW_OFFSET=8;export var Tooltip=forwardRef(function(a,b){var c=a.isOpen,d=a.size,e=void 0===d?tooltipPropSizesDefault:d,f=a.status,g=a.onSetDirection,h=a.offset,i=void 0===h?0:h,j=a.style,k=a.className,l=a.children,m=a.viewportRef,n=a.container,o=_objectWithoutProperties(a,_excluded),p=useRef(null),q=useForkRef([p,b]),r=useTheme(),s=r.theme,t=useState(),u=_slicedToArray(t,2),v=u[0],w=u[1],x=function(a){null===g||void 0===g?void 0:g(a),w(a)},y=useMemo(function(){var a=_objectSpread(_objectSpread({},s),{},{color:{primary:f?s.color.accent:s.color.invert,accent:s.color.accent,invert:s.color.primary}});return{theme:a,themeClassNames:generateThemeClassNames(a)}},[generateDeps(s),f]);return React.createElement(Transition,{in:c,unmountOnExit:!0,timeout:animateTimeout,nodeRef:p},function(a){var b;return React.createElement(ThemeContext.Provider,{value:y},React.createElement(Popover,Object.assign({},o,{arrowOffset:ARROW_OFFSET+ARROW_SIZE,offset:ARROW_SIZE+ARROW_OFFSET/2+i,onSetDirection:x,ref:q,viewportRef:m,container:n,className:cnTooltip({status:f},[k,cnMixPopoverAnimate({animate:a})]),style:_objectSpread((b={},_defineProperty(b,"--popover-arrow-size","".concat(ARROW_SIZE,"px")),_defineProperty(b,"--popover-arrow-offset","".concat(ARROW_OFFSET,"px")),b),j)}),React.createElement("div",{className:cnTooltip("Background")}),React.createElement("div",{className:cnTooltip("Arrow",[cnMixPopoverArrow({direction:v})])}),React.createElement("div",{className:cnTooltip("Content",{size:e})},"string"==typeof l||"number"==typeof l?React.createElement(Text,{view:"primary",size:"m",lineHeight:"m"},l):l)))})});
//# sourceMappingURL=Tooltip.js.map