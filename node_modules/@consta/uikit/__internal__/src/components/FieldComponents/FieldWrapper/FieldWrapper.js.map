{"version":3,"file":"FieldWrapper.js","names":["React","Text","cnMixFlex","isString","forwardRefWithAs","FieldCaption","FieldLabel","cnFieldWrapper","directionMap","spaceMap","Counter","counter","status","Array","isArray","join","renderSide","side","FieldWrapper","props","ref","className","children","label","size","labelIcon","caption","required","counterStatus","labelPosition","labelIconRef","as","labelHtmlFor","otherProps","gap","direction","htmlFor","align","justify"],"sources":["../../../../../../src/components/FieldComponents/FieldWrapper/FieldWrapper.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Text } from '##/components/Text';\nimport { cnMixFlex } from '##/mixs/MixFlex';\nimport { isString } from '##/utils/type-guards';\nimport { forwardRefWithAs } from '##/utils/types/PropsWithAsAttributes';\n\nimport { FieldCaption } from '../FieldCaption';\nimport { FieldLabel } from '../FieldLabel';\nimport { cnFieldWrapper } from './cnFieldWrapper';\nimport { directionMap, spaceMap } from './helpers';\nimport { FieldWrapperProps } from './types';\n\ntype Counter = string | number | [string | number, string | number];\n\nconst Counter: React.FC<{ counter: Counter; status?: 'alert' }> = ({\n  counter,\n  status,\n}) => {\n  return (\n    <Text\n      className={cnFieldWrapper('Counter')}\n      view={status || 'ghost'}\n      size=\"xs\"\n      lineHeight=\"m\"\n    >\n      {Array.isArray(counter) ? counter.join('/') : counter}\n    </Text>\n  );\n};\n\nconst renderSide = (side: React.ReactNode) => {\n  if (isString(side)) {\n    return <span className={cnFieldWrapper('SideText')}>{side}</span>;\n  }\n  return side;\n};\n\nexport const FieldWrapper = forwardRefWithAs<FieldWrapperProps>(\n  (props, ref) => {\n    const {\n      className,\n      children,\n      label,\n      size = 'm',\n      labelIcon,\n      caption,\n      required,\n      status,\n      side,\n      counter,\n      counterStatus,\n      labelPosition = 'top',\n      labelIconRef,\n      as = 'div',\n      labelHtmlFor,\n      ...otherProps\n    } = props;\n\n    const Tag = as as string;\n    const gap = spaceMap[size];\n\n    return (\n      <Tag\n        {...otherProps}\n        ref={ref}\n        className={cnFieldWrapper(null, [\n          cnMixFlex({\n            direction: directionMap[labelPosition],\n            gap: labelPosition === 'top' ? gap : 's',\n          }),\n          className,\n        ])}\n      >\n        {label && (\n          <FieldLabel\n            size={size}\n            required={required}\n            icon={labelIcon}\n            iconRef={labelIconRef}\n            {...(labelHtmlFor\n              ? {\n                  htmlFor: labelHtmlFor,\n                  as: 'label',\n                }\n              : {})}\n          >\n            {label}\n          </FieldLabel>\n        )}\n        <div\n          className={cnFieldWrapper('ControlAndCaptionWrapper', [\n            cnMixFlex({ gap, direction: 'column' }),\n          ])}\n        >\n          <div\n            className={cnFieldWrapper('ControlWrapper', [\n              cnMixFlex({ gap, direction: 'row' }),\n            ])}\n          >\n            <div className={cnFieldWrapper('Control')}>{children}</div>\n            {side && (\n              <div\n                className={cnFieldWrapper('Side', [\n                  cnMixFlex({ align: 'center', justify: 'center' }),\n                ])}\n                style={{\n                  ['--field-wrapper-side-text-size' as string]: `var(--control-text-size-${size})`,\n                  ['--field-wrapper-side-height' as string]: `var(--control-height-${size})`,\n                }}\n              >\n                {renderSide(side)}\n              </div>\n            )}\n          </div>\n          {(caption || counter) && (\n            <div\n              className={cnMixFlex({\n                direction: 'row',\n                gap,\n                justify: !caption ? 'flex-end' : 'space-between',\n              })}\n            >\n              {caption && (\n                <FieldCaption\n                  className={cnFieldWrapper('Caption')}\n                  status={status}\n                >\n                  {caption}\n                </FieldCaption>\n              )}\n              {counter && <Counter counter={counter} status={counterStatus} />}\n            </div>\n          )}\n        </div>\n      </Tag>\n    );\n  },\n);\n"],"mappings":"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"}