{"version":3,"file":"NotificationItem.js","names":["React","forwardRef","Avatar","Badge","Text","cnMixFlex","cnMixSpace","cn","isNotNil","isString","NotificationActions","NotificationCaption","cnNotificationItem","renderContent","content","mr","renderCaption","node","Array","isArray","filter","length","gap","align","mB","NotificationItem","props","ref","title","className","userName","userImageUrl","caption","actions","read","scrollContainerRef","otherProps","withAvatar","clickable","onClick","direction","zIndex","style"],"sources":["../../../../../../src/components/Notification/NotificationItem/NotificationItem.tsx"],"sourcesContent":["import './NotificationItem.css';\n\nimport React, { forwardRef } from 'react';\n\nimport { Avatar } from '##/components/Avatar';\nimport { Badge } from '##/components/Badge';\nimport { Text } from '##/components/Text';\nimport { cnMixFlex } from '##/mixs/MixFlex';\nimport { cnMixSpace } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\nimport { isNotNil, isString } from '##/utils/type-guards';\n\nimport { NotificationActions } from '../NotificationActions';\nimport { NotificationCaption } from '../NotificationCaption';\nimport { NotificationItemProps } from './types';\n\nexport const cnNotificationItem = cn('NotificationItem');\n\nconst renderContent = (content: React.ReactNode, mr: boolean) =>\n  isString(content) ? (\n    <Text\n      size=\"s\"\n      view=\"primary\"\n      lineHeight=\"m\"\n      className={mr ? cnNotificationItem('MixMR') : undefined}\n    >\n      {content}\n    </Text>\n  ) : (\n    content\n  );\n\nconst renderCaption = (node: React.ReactNode, mr: boolean) => {\n  if (!node || (Array.isArray(node) && node.filter(isNotNil).length === 0))\n    return null;\n\n  return (\n    <div\n      className={cnNotificationItem('Caption', [\n        cnMixFlex({ gap: 'xs', align: 'center' }),\n        cnMixSpace({ mB: '2xs' }),\n        mr ? cnNotificationItem('MixMR') : undefined,\n      ])}\n    >\n      {isString(node) ? (\n        <NotificationCaption>{node}</NotificationCaption>\n      ) : (\n        node\n      )}\n    </div>\n  );\n};\n\nexport const NotificationItem = forwardRef(\n  (props: NotificationItemProps, ref: React.Ref<HTMLDivElement>) => {\n    const {\n      title,\n      className,\n      content,\n      userName,\n      userImageUrl,\n      caption,\n      actions,\n      read,\n      scrollContainerRef,\n      ...otherProps\n    } = props;\n\n    return (\n      <div\n        {...otherProps}\n        ref={ref}\n        className={cnNotificationItem(\n          {\n            withAvatar: !!(userName || userImageUrl),\n            clickable: !!otherProps.onClick,\n          },\n          [className],\n        )}\n      >\n        <div className={cnMixFlex({ gap: 'm' })}>\n          {(userName || userImageUrl) && (\n            <Avatar\n              size=\"l\"\n              name={userName}\n              title={userName}\n              url={userImageUrl}\n              className={cnNotificationItem('Avatar')}\n            />\n          )}\n          <div className={cnNotificationItem('Content')}>\n            {title && (\n              <div\n                className={cnNotificationItem('TitleWrapper', [\n                  cnMixFlex({\n                    gap: 'xs',\n                    direction: 'row',\n                    align: 'center',\n                  }),\n                  cnMixSpace({ mB: '2xs' }),\n                  actions?.length ? cnNotificationItem('MixMR') : undefined,\n                ])}\n              >\n                {read === false && (\n                  <Badge\n                    className={cnNotificationItem('Badge')}\n                    size=\"s\"\n                    status=\"normal\"\n                    minified\n                  />\n                )}\n                <Text\n                  weight=\"semibold\"\n                  className={cnNotificationItem('Title')}\n                  view=\"primary\"\n                  size=\"s\"\n                  lineHeight=\"m\"\n                  truncate\n                >\n                  {title}\n                </Text>\n              </div>\n            )}\n            {renderCaption(caption, !!actions?.length && !title)}\n            <div className={cnNotificationItem('Children')}>\n              {content && renderContent(content, !!(actions?.length && !title))}\n            </div>\n            {actions?.length && (\n              <NotificationActions\n                className={cnNotificationItem('Actions')}\n                items={actions}\n                onlyIcon\n                style={{ zIndex: props.style?.zIndex }}\n                scrollContainerRef={scrollContainerRef}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nexport * from './types';\n"],"mappings":"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"}