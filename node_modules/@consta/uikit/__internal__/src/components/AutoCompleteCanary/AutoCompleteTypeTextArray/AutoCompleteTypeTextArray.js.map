{"version":3,"file":"AutoCompleteTypeTextArray.js","names":["React","forwardRef","useRef","SelectDropdown","defaultPropForm","defaultPropSize","defaultPropView","TextFieldTypeTextArray","useForkRef","withDefaultGetters","useAutoComplete","useRenderItemDefault","AutoCompleteTypeTextArray","props","componentRef","withDefaultGettersProps","items","groups","disabled","getItemLabel","getItemKey","isLoading","getItemGroupKey","getGroupKey","getGroupLabel","inputRef","onFocus","dropdownRefProp","dropdownRef","dropdownClassName","dropdownForm","value","form","view","size","onChange","style","renderItem","searchFunction","id","name","className","virtualScroll","onScrollToBottom","onDropdownOpen","dropdownOpen","ignoreOutsideClicksRefs","onInputChange","inputValue","onBlur","dropdownViewportRef","otherProps","controlRef","searchValue","getOptionProps","isOpen","getKeyProps","visibleItems","handleInputFocus","inputControlRef","optionsRefs","handleChange","handleInputBlur","highlightedIndex","renderItemDefault","length","zIndex"],"sources":["../../../../../../src/components/AutoCompleteCanary/AutoCompleteTypeTextArray/AutoCompleteTypeTextArray.tsx"],"sourcesContent":["import React, { forwardRef, useRef } from 'react';\n\nimport { SelectDropdown } from '##/components/SelectComponents/SelectDropdown';\nimport {\n  defaultPropForm,\n  defaultPropSize,\n  defaultPropView,\n} from '##/components/SelectComponentsDeprecated/types';\nimport { TextFieldTypeTextArray } from '##/components/TextFieldCanary';\nimport { useForkRef } from '##/hooks/useForkRef';\n\nimport { withDefaultGetters } from '../helpers';\nimport { AutoCompleteTypeComponent } from '../types';\nimport { useAutoComplete } from '../useAutoComplete';\nimport { useRenderItemDefault } from '../useRenderItemDefault';\n\nexport const AutoCompleteTypeTextArray: AutoCompleteTypeComponent<'textarray'> =\n  forwardRef((props, componentRef) => {\n    const withDefaultGettersProps = withDefaultGetters(props);\n    const {\n      items = [],\n      groups = [],\n      disabled = false,\n      getItemLabel,\n      getItemKey,\n      isLoading,\n      getItemGroupKey,\n      getGroupKey,\n      getGroupLabel,\n      inputRef,\n      onFocus,\n      dropdownRef: dropdownRefProp,\n      dropdownClassName,\n      dropdownForm = 'default',\n      value,\n      form = defaultPropForm,\n      view = defaultPropView,\n      size = defaultPropSize,\n      onChange,\n      style,\n      renderItem,\n      searchFunction,\n      id,\n      name,\n      className,\n      virtualScroll,\n      onScrollToBottom,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs,\n      onInputChange,\n      inputValue,\n      onBlur,\n      dropdownViewportRef,\n      ...otherProps\n    } = withDefaultGettersProps;\n\n    const dropdownRef = useRef<HTMLDivElement | null>(null);\n    const controlRef = useRef<HTMLDivElement>(null);\n\n    const {\n      getOptionProps,\n      isOpen,\n      getKeyProps,\n      visibleItems,\n      handleInputFocus,\n      inputRef: inputControlRef,\n      optionsRefs,\n      handleChange,\n      handleInputBlur,\n      highlightedIndex,\n    } = useAutoComplete({\n      items,\n      groups,\n      onChange: onInputChange,\n      dropdownRef,\n      disabled,\n      searchValue: inputValue || '',\n      getItemLabel,\n      getItemKey,\n      getItemGroupKey,\n      getGroupKey,\n      onFocus,\n      searchFunction,\n      onBlur,\n      isLoading,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs: [controlRef, ...(ignoreOutsideClicksRefs || [])],\n    });\n\n    const renderItemDefault = useRenderItemDefault(\n      getItemLabel,\n      disabled,\n      size,\n      dropdownForm,\n    );\n\n    return (\n      <>\n        <TextFieldTypeTextArray\n          {...getKeyProps()}\n          form={form}\n          view={view}\n          id={id}\n          className={className}\n          name={name}\n          disabled={disabled}\n          ref={useForkRef([controlRef, componentRef])}\n          inputRef={useForkRef([inputRef, inputControlRef])}\n          onFocus={handleInputFocus}\n          onBlur={handleInputBlur}\n          onChange={highlightedIndex < 0 ? onChange : undefined}\n          onInputChange={handleChange}\n          value={value}\n          style={style}\n          size={size}\n          inputValue={inputValue}\n          {...otherProps}\n        />\n        <SelectDropdown\n          viewportRef={dropdownViewportRef}\n          isOpen={isOpen}\n          size={size}\n          controlRef={controlRef}\n          getOptionProps={getOptionProps}\n          dropdownRef={useForkRef([dropdownRef, dropdownRefProp])}\n          form={dropdownForm}\n          className={dropdownClassName}\n          renderItem={renderItem || renderItemDefault}\n          getGroupLabel={getGroupLabel}\n          visibleItems={visibleItems}\n          isLoading={isLoading}\n          hasItems={items.length !== 0}\n          itemsRefs={optionsRefs}\n          virtualScroll\n          style={\n            typeof style?.zIndex === 'number'\n              ? { zIndex: style.zIndex + 1 }\n              : undefined\n          }\n          onScrollToBottom={onScrollToBottom}\n        />\n      </>\n    );\n  });\n"],"mappings":"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"}