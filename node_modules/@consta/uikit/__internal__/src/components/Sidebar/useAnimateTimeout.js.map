{"version":3,"file":"useAnimateTimeout.js","names":["useAtom","getElementSize","useCreateAtom","useResizeObservedAtom","useSendToAtom","coefficient","useAnimateTimeout","windowElAtom","position","dimensionsAtom","ctx","spy","positionAtom","useAnimateTimeoutAtom","dimensions","width","height","size","timeout","Math","ceil","min"],"sources":["../../../../../src/components/Sidebar/useAnimateTimeout.ts"],"sourcesContent":["import { AtomMut } from '@reatom/core';\nimport { useAtom } from '@reatom/npm-react';\n\nimport { getElementSize } from '##/hooks/useResizeObserved';\nimport { useCreateAtom } from '##/utils/state/useCreateAtom';\nimport { useResizeObservedAtom } from '##/utils/state/useResizeObservedAtom';\nimport { useSendToAtom } from '##/utils/state/useSendToAtom';\n\nconst coefficient = 60;\n\nexport const useAnimateTimeout = (\n  windowElAtom: AtomMut<HTMLDivElement | null>,\n  position: 'right' | 'bottom' | 'left' | 'top',\n) => {\n  const dimensionsAtom = useResizeObservedAtom(\n    useCreateAtom((ctx) => [ctx.spy(windowElAtom)]),\n    getElementSize,\n  );\n\n  const positionAtom = useSendToAtom(position);\n\n  const useAnimateTimeoutAtom = useCreateAtom((ctx) => {\n    const dimensions = ctx.spy(dimensionsAtom)[0] || { width: 0, height: 0 };\n    const position = ctx.spy(positionAtom);\n\n    const size =\n      position === 'right' || position === 'left'\n        ? dimensions.width\n        : dimensions.height;\n\n    const timeout = Math.ceil((size / 100) * coefficient);\n\n    return timeout < 150 ? 150 : Math.min(timeout, 400);\n  });\n\n  return useAtom(useAnimateTimeoutAtom)[0];\n};\n"],"mappings":"AACA,OAASA,OAAT,KAAwB,mBAAxB,CAEA,OAASC,cAAT,qCACA,OAASC,aAAT,uCACA,OAASC,qBAAT,+CACA,OAASC,aAAT,uCAEA,GAAMC,YAAW,CAAG,EAApB,CAEA,MAAO,IAAMC,kBAAiB,CAAG,SAC/BC,CAD+B,CAE/BC,CAF+B,CAG5B,IACGC,EAAc,CAAGN,qBAAqB,CAC1CD,aAAa,CAAC,SAACQ,CAAD,QAAS,CAACA,CAAG,CAACC,GAAJ,CAAQJ,CAAR,CAAD,CAAT,CAAD,CAD6B,CAE1CN,cAF0C,CADzC,CAMGW,CAAY,CAAGR,aAAa,CAACI,CAAD,CAN/B,CAQGK,CAAqB,CAAGX,aAAa,CAAC,SAACQ,CAAD,CAAS,IAC7CI,EAAU,CAAGJ,CAAG,CAACC,GAAJ,CAAQF,CAAR,EAAwB,CAAxB,GAA8B,CAAEM,KAAK,CAAE,CAAT,CAAYC,MAAM,CAAE,CAApB,CADE,CAE7CR,CAAQ,CAAGE,CAAG,CAACC,GAAJ,CAAQC,CAAR,CAFkC,CAI7CK,CAAI,CACK,OAAb,GAAAT,CAAQ,EAA6B,MAAb,GAAAA,CAAxB,CACIM,CAAU,CAACC,KADf,CAEID,CAAU,CAACE,MAPkC,CAS7CE,CAAO,CAAGC,IAAI,CAACC,IAAL,CAAWH,CAAI,CAAG,GAAR,CAAeZ,WAAzB,CATmC,CAWnD,MAAiB,IAAV,CAAAa,CAAO,CAAS,GAAT,CAAeC,IAAI,CAACE,GAAL,CAASH,CAAT,CAAkB,GAAlB,CAC9B,CAZ0C,CARxC,CAsBH,MAAOlB,QAAO,CAACa,CAAD,CAAP,CAA+B,CAA/B,CACR,CA1BM"}