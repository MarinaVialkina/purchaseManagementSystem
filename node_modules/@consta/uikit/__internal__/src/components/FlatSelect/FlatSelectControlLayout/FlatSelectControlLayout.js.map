{"version":3,"file":"FlatSelectControlLayout.js","names":["useAtom","React","forwardRef","FieldClearButton","FieldControlLayout","FlatSelectControlLayout","ref","className","size","onClear","focusAtom","separator","onDropdownButton","clearButtonAtom","iconClear","view","valueAtom","props","ctx","spy","clearButton"],"sources":["../../../../../../src/components/FlatSelect/FlatSelectControlLayout/FlatSelectControlLayout.tsx"],"sourcesContent":["import { IconComponent } from '@consta/icons/Icon';\nimport { AtomMut } from '@reatom/framework';\nimport { useAtom } from '@reatom/npm-react';\nimport React, { forwardRef } from 'react';\n\nimport {\n  FieldClearButton,\n  FieldControlLayout,\n  FieldControlLayoutProps,\n} from '##/components/FieldComponents';\n\ntype FieldButtonProps = Omit<\n  FieldControlLayoutProps,\n  'leftSide' | 'rightSide'\n> & {\n  focusAtom: AtomMut<boolean>;\n  clearButtonAtom: AtomMut<boolean>;\n  separator?: boolean;\n  onClear: (e: React.SyntheticEvent<Element, Event>) => void;\n  onDropdownButton?: (e: React.SyntheticEvent<Element, Event>) => void;\n  iconClear?: IconComponent;\n  leftSide?: React.ReactNode | React.ReactNode[];\n  valueAtom: AtomMut<string>;\n};\n\nexport const FlatSelectControlLayout = forwardRef<\n  HTMLDivElement,\n  FieldButtonProps\n>(\n  (\n    {\n      className,\n      size = 's',\n      onClear,\n      focusAtom,\n      separator,\n      onDropdownButton,\n      clearButtonAtom,\n      iconClear,\n      view,\n      valueAtom,\n      ...props\n    },\n    ref,\n  ) => {\n    const [clearButton] = useAtom(\n      (ctx) => ctx.spy(clearButtonAtom) && !!ctx.spy(valueAtom),\n    );\n\n    return (\n      <FieldControlLayout\n        {...props}\n        size={size}\n        ref={ref}\n        className={className}\n        focused={useAtom(focusAtom)[0]}\n        alignSlots=\"center\"\n        view={view}\n        rightSide={[\n          clearButton ? (\n            <FieldClearButton\n              tabIndex={-1}\n              size={size}\n              onClick={onClear}\n              icon={iconClear}\n            />\n          ) : undefined,\n        ]}\n      />\n    );\n  },\n);\n"],"mappings":"+RAEA,OAASA,OAAT,KAAwB,mBAAxB,CACA,MAAOC,MAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CAEA,OACEC,gBADF,CAEEC,kBAFF,6BAoBA,MAAO,IAAMC,wBAAuB,CAAGH,UAAU,CAI/C,WAcEI,CAdF,CAeK,IAbDC,EAaC,GAbDA,SAaC,KAZDC,IAYC,CAZDA,CAYC,YAZM,GAYN,GAXDC,CAWC,GAXDA,OAWC,CAVDC,CAUC,GAVDA,SAUC,CATDC,CASC,GATDA,SASC,CARDC,CAQC,GARDA,gBAQC,CAPDC,CAOC,GAPDA,eAOC,CANDC,CAMC,GANDA,SAMC,CALDC,CAKC,GALDA,IAKC,CAJDC,CAIC,GAJDA,SAIC,CAHEC,CAGF,yCACmBjB,OAAO,CAC3B,SAACkB,CAAD,QAASA,EAAG,CAACC,GAAJ,CAAQN,CAAR,GAA4B,CAAC,CAACK,CAAG,CAACC,GAAJ,CAAQH,CAAR,CAAvC,CAD2B,CAD1B,uBACII,CADJ,MAKH,MACE,qBAAC,kBAAD,kBACMH,CADN,EAEE,IAAI,CAAET,CAFR,CAGE,GAAG,CAAEF,CAHP,CAIE,SAAS,CAAEC,CAJb,CAKE,OAAO,CAAEP,OAAO,CAACU,CAAD,CAAP,CAAmB,CAAnB,CALX,CAME,UAAU,CAAC,QANb,CAOE,IAAI,CAAEK,CAPR,CAQE,SAAS,CAAE,CACTK,CAAW,CACT,oBAAC,gBAAD,EACE,QAAQ,CAAE,CAAC,CADb,CAEE,IAAI,CAAEZ,CAFR,CAGE,OAAO,CAAEC,CAHX,CAIE,IAAI,CAAEK,CAJR,EADS,OADF,CARb,GAoBH,CA7C8C,CAA1C"}