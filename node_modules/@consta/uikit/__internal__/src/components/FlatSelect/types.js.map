{"version":3,"file":"types.js","names":[],"sources":["../../../../../src/components/FlatSelect/types.ts"],"sourcesContent":["import { IconComponent } from '@consta/icons/Icon';\nimport React from 'react';\n\nimport { FieldPropSize, FieldPropView } from '##/components/FieldComponents';\nimport { Direction } from '##/components/Popover';\nimport { PropsWithHTMLAttributesAndRef } from '##/utils/types/PropsWithHTMLAttributes';\n\nexport type RenderItemProps<ITEM> = {\n  item: ITEM;\n  active: boolean;\n  hovered: boolean;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  ref: React.Ref<HTMLDivElement>;\n};\n\nexport type FlatSelectItemDefault = {\n  label: string;\n  id: string | number;\n  groupId?: string | number;\n  disabled?: boolean;\n};\n\nexport type FlatSelectGroupDefault = {\n  label: string;\n  id: string | number;\n};\n\nexport type FlatSelectPropGetItemLabel<ITEM> = (item: ITEM) => string;\nexport type FlatSelectPropGetItemKey<ITEM> = (item: ITEM) => string | number;\nexport type FlatSelectPropGetItemGroupKey<ITEM> = (\n  item: ITEM,\n) => string | number | undefined;\nexport type FlatSelectPropGetItemDisabled<ITEM> = (\n  item: ITEM,\n) => boolean | undefined;\nexport type FlatSelectPropGetGroupKey<GROUP> = (\n  group: GROUP,\n) => string | number;\nexport type FlatSelectPropGetGroupLabel<GROUP> = (group: GROUP) => string;\n\nexport type FlatSelectPropOnChange<ITEM, MULTIPLE extends boolean> = (\n  value: (MULTIPLE extends true ? ITEM[] : ITEM) | null,\n  props: {\n    e: React.SyntheticEvent;\n  },\n) => void;\nexport type FlatSelectPropValue<ITEM, MULTIPLE extends boolean> =\n  | (MULTIPLE extends true ? ITEM[] : ITEM)\n  | null\n  | undefined;\n\nexport type FlatSelectPropRenderItem<ITEM> = (\n  props: RenderItemProps<ITEM>,\n) => React.ReactNode | null;\n\nexport type FlatSelectPropRenderValue<ITEM, MULTIPLE> = MULTIPLE extends true\n  ? (props: {\n      value: ITEM[];\n      getRemove: (\n        item: ITEM,\n      ) => (e: React.SyntheticEvent<Element, Event>) => void;\n    }) => React.ReactNode | null\n  : (props: { value: ITEM }) => React.ReactNode | null;\n\nexport type FlatSelectPropOnCreate = (\n  label: string,\n  props: { e: React.SyntheticEvent },\n) => void;\n\nexport type FlatSelectAllItem = {\n  groupKey: string | number;\n  __optionSelectAll: true;\n};\n\nexport type Group<ITEM, GROUP> = {\n  items: ITEM[];\n  key: string | number;\n  group?: GROUP;\n};\n\nexport type CountedGroup<ITEM, GROUP> = Omit<Group<ITEM, GROUP>, 'items'> & {\n  items: Array<FlatSelectAllItem | ITEM>;\n};\n\nexport type FlatSelectPropForm = 'default' | 'brick' | 'round';\n\nexport type FlatSelectPropsInit<\n  ITEM = FlatSelectItemDefault,\n  GROUP = FlatSelectGroupDefault,\n  MULTIPLE extends boolean = false,\n> = PropsWithHTMLAttributesAndRef<\n  {\n    items: ITEM[];\n    onChange: FlatSelectPropOnChange<ITEM, MULTIPLE>;\n    disabled?: boolean;\n    form?: 'default' | 'brick' | 'round';\n    placeholder?: string;\n    size?: FieldPropSize;\n    isLoading?: boolean;\n    listRef?: React.Ref<HTMLDivElement>;\n    renderItem?: FlatSelectPropRenderItem<ITEM>;\n    onInputFocus?: React.FocusEventHandler<HTMLInputElement>;\n    onInputBlur?: React.FocusEventHandler<HTMLInputElement>;\n    onCreate?: FlatSelectPropOnCreate;\n    inputRef?: React.Ref<HTMLInputElement>;\n    input?: boolean;\n    inputValue?: string;\n    inputDefaultValue?: string;\n    onInput?: (value: string) => void;\n    labelForCreate?:\n      | ((label: string | undefined) => React.ReactNode)\n      | React.ReactNode;\n    labelForEmptyItems?: string;\n    multiple?: MULTIPLE;\n    value?: FlatSelectPropValue<ITEM, MULTIPLE>;\n    groups?: GROUP[];\n    getItemLabel?: FlatSelectPropGetItemLabel<ITEM>;\n    getItemKey?: FlatSelectPropGetItemKey<ITEM>;\n    getItemGroupKey?: FlatSelectPropGetItemGroupKey<ITEM>;\n    getItemDisabled?: FlatSelectPropGetItemDisabled<ITEM>;\n    getGroupLabel?: FlatSelectPropGetGroupLabel<GROUP>;\n    getGroupKey?: FlatSelectPropGetGroupKey<GROUP>;\n    virtualScroll?: boolean;\n    onScrollToBottom?: (length: number) => void;\n    onOpen?: (isOpen: boolean) => void;\n    isOpen?: boolean;\n    listClassName?: string;\n    ignoreOutsideClicksRefs?: ReadonlyArray<React.RefObject<HTMLElement>>;\n    clearButton?: boolean;\n    iconClear?: IconComponent;\n    iconLeft?: IconComponent;\n    selectAll?: MULTIPLE extends true ? boolean : never;\n    selectAllLabel?: string;\n    footer?: React.ReactNode;\n    view?: FieldPropView;\n    bordered?: boolean;\n    anchorRef?: React.RefObject<HTMLElement>;\n    direction?: Direction;\n    spareDirection?: Direction;\n    possibleDirections?: Direction[];\n    viewportRef?: React.RefObject<HTMLElement>;\n  },\n  HTMLDivElement\n>;\n\n/**\n * Props for the FlatSelect component.\n *\n * This type defines the props for the FlatSelect component, which is a customizable select component.\n * It allows for single or multiple selection, and supports grouping of items.\n * The component can be customized by providing custom item and group types.\n *\n * @template ITEM The type of the items in the select. Defaults to FlatSelectItemDefault.\n * @template GROUP The type of the groups in the select. Defaults to FlatSelectGroupDefault.\n * @template MULTIPLE Whether the select allows multiple selection. Defaults to false.\n */\nexport type FlatSelectProps<\n  ITEM = FlatSelectItemDefault,\n  GROUP = FlatSelectGroupDefault,\n  MULTIPLE extends boolean = false,\n> = FlatSelectPropsInit<ITEM, GROUP, MULTIPLE> &\n  (ITEM extends { label: FlatSelectItemDefault['label'] }\n    ? {}\n    : { getItemLabel: FlatSelectPropGetItemLabel<ITEM> }) &\n  (ITEM extends { id: FlatSelectItemDefault['id'] }\n    ? {}\n    : { getItemKey: FlatSelectPropGetItemKey<ITEM> }) &\n  (GROUP extends { label: FlatSelectGroupDefault['label'] }\n    ? {}\n    : { getGroupLabel: FlatSelectPropGetGroupLabel<GROUP> }) &\n  (GROUP extends { id: FlatSelectGroupDefault['id'] }\n    ? {}\n    : { getGroupKey: FlatSelectPropGetGroupKey<GROUP> });\n\nexport type FlatSelectComponent = <\n  ITEM = FlatSelectItemDefault,\n  GROUP = FlatSelectGroupDefault,\n  MULTIPLE extends boolean = false,\n>(\n  props: FlatSelectProps<ITEM, GROUP, MULTIPLE>,\n) => React.ReactNode | null;\n"],"mappings":""}