import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";var _excluded=["size","className","groupsCounterAtom","groupId","highlightedIndexAtom","disabledAtom","index","label"];import{useAtom}from"@reatom/npm-react";import React,{forwardRef}from"react";import{Checkbox}from"../../Checkbox";import{ListItem}from"../../ListCanary";import{Text}from"../../Text";import{cn}from"../../../utils/bem";import{sizeCheckboxMap}from"../FlatSelectItem";export var cnFlatSelectItemAll=cn("FlatSelectItemAll");var textSizeMap={xs:"s",s:"s",m:"m",l:"l"},FlatSelectItemAllCounter=function(a){var b=a.groupsCounterAtom,c=a.groupId,d=a.size,e=useAtom(function(a){var d,e=a.spy(b);return(null===(d=e[c])||void 0===d?void 0:d[1])||0}),f=_slicedToArray(e,1),g=f[0],h=useAtom(function(a){var d,e=a.spy(b);return(null===(d=e[c])||void 0===d?void 0:d[0])||0}),i=_slicedToArray(h,1),j=i[0];return React.createElement(Text,{size:textSizeMap[d],lineHeight:"xs",view:"ghost"},"".concat(j," \u0438\u0437 ").concat(g))},FlatSelectItemAllCounterCheckbox=function(a){var b=a.groupsCounterAtom,c=a.groupId,d=a.size,e=a.disabledAtom,f=useAtom(function(a){var d=a.spy(b);return void 0!==d[c]&&d[c][0]===d[c][1]}),g=_slicedToArray(f,1),h=g[0],i=useAtom(function(a){var d=a.spy(b);return void 0!==d[c]&&0<d[c][0]&&d[c][0]<d[c][1]}),j=_slicedToArray(i,1),k=j[0],l=useAtom(e),m=_slicedToArray(l,1),n=m[0];return React.createElement(Checkbox,{checked:h,intermediate:k,size:sizeCheckboxMap[d],tabIndex:-1,disabled:n})};export var FlatSelectItemAll=forwardRef(function(a,b){var c=a.size,d=a.className,e=a.groupsCounterAtom,f=a.groupId,g=a.highlightedIndexAtom,h=a.disabledAtom,i=a.index,j=a.label,k=_objectWithoutProperties(a,_excluded),l=useAtom(function(a){return a.spy(g)===i}),m=_slicedToArray(l,1),n=m[0],o=useAtom(h),p=_slicedToArray(o,1),q=p[0];return React.createElement(ListItem,Object.assign({},k,{ref:b,className:cnFlatSelectItemAll(null,[d]),role:"option",label:j,size:c,active:n,disabled:q,rightSide:React.createElement(FlatSelectItemAllCounter,{size:c,groupsCounterAtom:e,groupId:f}),leftSide:React.createElement(FlatSelectItemAllCounterCheckbox,{size:c,groupsCounterAtom:e,groupId:f,disabledAtom:h})}))});
//# sourceMappingURL=FlatSelectItemAll.js.map