{"version":3,"file":"FlatSelectRenderItem.js","names":["useAtom","React","FlatSelectRenderItem","props","renderItem","item","rootRef","onClick","onMouseEnter","highlightedIndexAtom","index","valueAtom","getItemKeyAtom","ctx","value","spy","getItemKey","get","find","valueItem","active","highlightedIndex","hovered","ref"],"sources":["../../../../../../src/components/FlatSelect/FlatSelectRenderItem/FlatSelectRenderItem.tsx"],"sourcesContent":["import { AtomMut } from '@reatom/framework';\nimport { useAtom } from '@reatom/npm-react';\nimport React from 'react';\n\ntype RenderItemProps<ITEM> = {\n  item: ITEM;\n  active: boolean;\n  hovered: boolean;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  ref: React.Ref<HTMLDivElement>;\n};\n\ntype SelectRenderItemProps<ITEM> = {\n  item: ITEM;\n  rootRef: React.Ref<HTMLDivElement>;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  renderItem: (props: RenderItemProps<ITEM>) => React.ReactNode | null;\n  highlightedIndexAtom: AtomMut<number>;\n  index: number;\n  valueAtom: AtomMut<ITEM[]>;\n  getItemKeyAtom: AtomMut<(item: ITEM) => string | number>;\n};\n\ntype SelectRenderItemComponent = <ITEM>(\n  props: SelectRenderItemProps<ITEM>,\n) => React.ReactNode;\n\nexport const FlatSelectRenderItem: SelectRenderItemComponent = (props) => {\n  const {\n    renderItem,\n    item,\n    rootRef,\n    onClick,\n    onMouseEnter,\n    highlightedIndexAtom,\n    index,\n    valueAtom,\n    getItemKeyAtom,\n  } = props;\n\n  const [active] = useAtom((ctx) => {\n    const value = ctx.spy(valueAtom);\n\n    const getItemKey = ctx.get(getItemKeyAtom);\n\n    return !!value.find(\n      (valueItem) => getItemKey(valueItem) === getItemKey(item),\n    );\n  });\n\n  const [hovered] = useAtom((ctx) => {\n    const highlightedIndex = ctx.spy(highlightedIndexAtom);\n    return index === highlightedIndex;\n  });\n\n  return (\n    <>\n      {renderItem({\n        ref: rootRef,\n        onClick,\n        onMouseEnter,\n        item,\n        active,\n        hovered,\n      })}\n    </>\n  );\n};\n"],"mappings":"iEACA,OAASA,OAAT,KAAwB,mBAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CA2BA,MAAO,IAAMC,qBAA+C,CAAG,SAACC,CAAD,CAAW,IAEtEC,EAFsE,CAWpED,CAXoE,CAEtEC,UAFsE,CAGtEC,CAHsE,CAWpEF,CAXoE,CAGtEE,IAHsE,CAItEC,CAJsE,CAWpEH,CAXoE,CAItEG,OAJsE,CAKtEC,CALsE,CAWpEJ,CAXoE,CAKtEI,OALsE,CAMtEC,CANsE,CAWpEL,CAXoE,CAMtEK,YANsE,CAOtEC,CAPsE,CAWpEN,CAXoE,CAOtEM,oBAPsE,CAQtEC,CARsE,CAWpEP,CAXoE,CAQtEO,KARsE,CAStEC,CATsE,CAWpER,CAXoE,CAStEQ,SATsE,CAUtEC,CAVsE,CAWpET,CAXoE,CAUtES,cAVsE,GAavDZ,OAAO,CAAC,SAACa,CAAD,CAAS,IAC1BC,EAAK,CAAGD,CAAG,CAACE,GAAJ,CAAQJ,CAAR,CADkB,CAG1BK,CAAU,CAAGH,CAAG,CAACI,GAAJ,CAAQL,CAAR,CAHa,CAKhC,MAAO,CAAC,CAACE,CAAK,CAACI,IAAN,CACP,SAACC,CAAD,QAAeH,EAAU,CAACG,CAAD,CAAV,GAA0BH,CAAU,CAACX,CAAD,CAAnD,CADO,CAGV,CARuB,CAbgD,uBAajEe,CAbiE,QAuBtDpB,OAAO,CAAC,SAACa,CAAD,CAAS,CACjC,GAAMQ,EAAgB,CAAGR,CAAG,CAACE,GAAJ,CAAQN,CAAR,CAAzB,CACA,MAAOC,EAAK,GAAKW,CAClB,CAHwB,CAvB+C,uBAuBjEC,CAvBiE,MA4BxE,MACE,yCACGlB,CAAU,CAAC,CACVmB,GAAG,CAAEjB,CADK,CAEVC,OAAO,CAAPA,CAFU,CAGVC,YAAY,CAAZA,CAHU,CAIVH,IAAI,CAAJA,CAJU,CAKVe,MAAM,CAANA,CALU,CAMVE,OAAO,CAAPA,CANU,CAAD,CADb,CAWH,CAxCM"}