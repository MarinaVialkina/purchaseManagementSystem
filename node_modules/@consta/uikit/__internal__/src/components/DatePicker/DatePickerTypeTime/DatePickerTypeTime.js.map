{"version":3,"file":"DatePickerTypeTime.js","names":["React","forwardRef","useEffect","useRef","useClickOutside","useForkRef","setRef","DatePickerDropdown","DatePickerFieldTypeTime","datePickerPropFormatTypeDateTime","getDropdownZIndex","getTimeOptionsByFormat","datePickerPropDateTimeViewDefault","useCalendarVisible","DatePickerTypeTime","props","ref","events","dateTimeView","locale","dropdownForm","dropdownClassName","dropdownRef","timeOptionsProp","timeOptions","renderAdditionalControls","currentVisibleDate","onChangeCurrentVisibleDate","onDropdownOpen","dropdownOpen","ignoreOutsideClicksRefs","disabled","inputRefProp","inputRef","disableDates","dropdownViewportRef","otherProps","format","fieldRef","calendarRef","startRef","calendarVisible","setCalendarVisible","current","isActive","ignoreClicksInsideRefs","handler","off","on","value","minDate","maxDate","onChange","style"],"sources":["../../../../../../src/components/DatePicker/DatePickerTypeTime/DatePickerTypeTime.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react';\n\nimport { useClickOutside } from '##/hooks/useClickOutside/useClickOutside';\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { setRef } from '##/utils/setRef';\n\nimport { DatePickerDropdown } from '../DatePickerDropdown/DatePickerDropdown';\nimport { DatePickerFieldTypeTime } from '../DatePickerFieldTypeTime/DatePickerFieldTypeTime';\nimport {\n  datePickerPropFormatTypeDateTime,\n  getDropdownZIndex,\n  getTimeOptionsByFormat,\n} from '../helpers';\nimport {\n  datePickerPropDateTimeViewDefault,\n  DatePickerTypeComponent,\n} from '../types';\nimport { useCalendarVisible } from '../useCalendarVisible';\n\nexport const DatePickerTypeTime: DatePickerTypeComponent<'time'> = forwardRef(\n  (props, ref) => {\n    const {\n      events,\n      dateTimeView = datePickerPropDateTimeViewDefault,\n      locale,\n      dropdownForm,\n      dropdownClassName,\n      dropdownRef,\n      timeOptions: timeOptionsProp,\n      renderAdditionalControls,\n      currentVisibleDate,\n      onChangeCurrentVisibleDate,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs,\n      disabled,\n      inputRef: inputRefProp,\n      disableDates,\n      dropdownViewportRef,\n      ...otherProps\n    } = props;\n\n    const timeOptions = getTimeOptionsByFormat(\n      otherProps.format || datePickerPropFormatTypeDateTime,\n      timeOptionsProp,\n    );\n\n    const fieldRef = useRef<HTMLDivElement>(null);\n    const calendarRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    const [calendarVisible, setCalendarVisible] = useCalendarVisible({\n      dropdownOpen,\n      onDropdownOpen,\n      disabled,\n      startRef: inputRef,\n    });\n\n    useEffect(() => {\n      if (ref) {\n        setRef(ref, fieldRef.current);\n      }\n    }, [ref, fieldRef]);\n\n    useClickOutside({\n      isActive: calendarVisible,\n      ignoreClicksInsideRefs: [\n        fieldRef,\n        calendarRef,\n        ...(ignoreOutsideClicksRefs ?? []),\n      ],\n      handler: setCalendarVisible.off,\n    });\n\n    return (\n      <>\n        <DatePickerFieldTypeTime\n          {...otherProps}\n          ref={fieldRef}\n          inputRef={useForkRef([inputRef, inputRefProp])}\n          onClick={setCalendarVisible.on}\n          timeOptions={timeOptions}\n          disabled={disabled}\n        />\n        <DatePickerDropdown\n          ref={useForkRef([dropdownRef, calendarRef])}\n          viewportRef={dropdownViewportRef}\n          anchorRef={fieldRef}\n          isOpen={calendarVisible}\n          value={props.value || undefined}\n          type=\"time\"\n          view={dateTimeView}\n          events={events}\n          locale={locale}\n          minDate={props.minDate}\n          maxDate={props.maxDate}\n          form={dropdownForm}\n          className={dropdownClassName}\n          onChange={props.onChange}\n          renderAdditionalControls={renderAdditionalControls}\n          timeOptions={timeOptions}\n          zIndex={getDropdownZIndex(props.style)}\n          disableDates={disableDates}\n        />\n      </>\n    );\n  },\n);\n"],"mappings":"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"}