{"version":3,"file":"DatePicker.js","names":["React","forwardRef","useMemo","useRef","useForkRef","maxDateDefault","minDateDefault","getByMap","getTimeOptionsKey","usePropsHandler","DatePickerTypeDate","DatePickerTypeDateRange","DatePickerTypeDateTime","DatePickerTypeDateTimeRange","DatePickerTypeMonth","DatePickerTypeMonthRange","DatePickerTypeTime","DatePickerTypeYear","DatePickerTypeYearRange","isTypeWithTime","datePickerPropTypeDefault","typeMap","COMPONENT_NAME","DatePicker","props","ref","datePickerRef","type","minDate","maxDate","labelPosition","timeOptions","multiplicityHours","multiplicityMinutes","multiplicitySeconds","otherProps","effectiveTimeOptions","hours","step","minutes","seconds","timeProps","Component"],"sources":["../../../../../src/components/DatePicker/DatePicker.tsx"],"sourcesContent":["import React, { forwardRef, useMemo, useRef } from 'react';\n\nimport { useForkRef } from '##/hooks/useForkRef/useForkRef';\nimport { maxDateDefault, minDateDefault } from '##/utils/date';\nimport { getByMap } from '##/utils/getByMap';\n\nimport { TimeOptions } from '../DateTime';\nimport { getTimeOptionsKey } from '../DateTime/helpers/getTimeOptionsKey';\nimport { usePropsHandler } from '../EventInterceptor/usePropsHandler';\nimport { DatePickerTypeDate } from './DatePickerTypeDate/DatePickerTypeDate';\nimport { DatePickerTypeDateRange } from './DatePickerTypeDateRange/DatePickerTypeDateRange';\nimport { DatePickerTypeDateTime } from './DatePickerTypeDateTime/DatePickerTypeDateTime';\nimport { DatePickerTypeDateTimeRange } from './DatePickerTypeDateTimeRange/DatePickerTypeDateTimeRange';\nimport { DatePickerTypeMonth } from './DatePickerTypeMonth/DatePickerTypeMonth';\nimport { DatePickerTypeMonthRange } from './DatePickerTypeMonthRange/DatePickerTypeMonthRange';\nimport { DatePickerTypeTime } from './DatePickerTypeTime/DatePickerTypeTime';\nimport { DatePickerTypeYear } from './DatePickerTypeYear/DatePickerTypeYear';\nimport { DatePickerTypeYearRange } from './DatePickerTypeYearRange/DatePickerTypeYearRange';\nimport { isTypeWithTime } from './helpers';\nimport {\n  DatePickerComponent,\n  DatePickerPropType,\n  datePickerPropTypeDefault,\n  DatePickerTypeComponent,\n} from './types';\n\nconst typeMap: Record<\n  DatePickerPropType,\n  DatePickerTypeComponent<DatePickerPropType>\n> = {\n  'date': DatePickerTypeDate,\n  'date-range': DatePickerTypeDateRange,\n  'date-time': DatePickerTypeDateTime,\n  'date-time-range': DatePickerTypeDateTimeRange,\n  'time': DatePickerTypeTime,\n  'year': DatePickerTypeYear,\n  'year-range': DatePickerTypeYearRange,\n  'month': DatePickerTypeMonth,\n  'month-range': DatePickerTypeMonthRange,\n};\n\nexport const COMPONENT_NAME = 'DatePicker' as const;\n\nexport const DatePicker: DatePickerComponent = forwardRef((props, ref) => {\n  const datePickerRef = useRef<HTMLDivElement>(null);\n  const {\n    type = datePickerPropTypeDefault,\n    minDate = minDateDefault,\n    maxDate = maxDateDefault,\n    labelPosition = 'top',\n    timeOptions,\n    multiplicityHours,\n    multiplicityMinutes,\n    multiplicitySeconds,\n    ...otherProps\n  } = usePropsHandler(COMPONENT_NAME, props, datePickerRef);\n\n  // TODO: major - удалить multiplicity* props конвертацию, используйте timeOptions напрямую\n  const effectiveTimeOptions = useMemo((): TimeOptions => {\n    return {\n      hours:\n        timeOptions?.hours ??\n        (multiplicityHours !== undefined\n          ? { step: multiplicityHours }\n          : undefined),\n      minutes:\n        timeOptions?.minutes ??\n        (multiplicityMinutes !== undefined\n          ? { step: multiplicityMinutes }\n          : undefined),\n      seconds:\n        timeOptions?.seconds ??\n        (multiplicitySeconds !== undefined\n          ? { step: multiplicitySeconds }\n          : undefined),\n    };\n  }, [\n    getTimeOptionsKey(timeOptions),\n    multiplicityHours,\n    multiplicityMinutes,\n    multiplicitySeconds,\n  ]);\n\n  const timeProps = useMemo(\n    () =>\n      isTypeWithTime(type)\n        ? {\n            timeOptions: effectiveTimeOptions,\n          }\n        : undefined,\n    [type, effectiveTimeOptions],\n  );\n\n  const Component = getByMap(typeMap, type);\n\n  return (\n    <Component\n      {...otherProps}\n      {...timeProps}\n      labelPosition={labelPosition}\n      minDate={minDate}\n      maxDate={maxDate}\n      ref={useForkRef([ref, datePickerRef])}\n    />\n  );\n});\n\nexport * from './helpers';\nexport * from './types';\n"],"mappings":"8NAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,OAA5B,CAAqCC,MAArC,KAAmD,OAAnD,CAEA,OAASC,UAAT,yCACA,OAASC,cAAT,CAAyBC,cAAzB,wBACA,OAASC,QAAT,4BAGA,OAASC,iBAAT,6CACA,OAASC,eAAT,2CACA,OAASC,kBAAT,+CACA,OAASC,uBAAT,yDACA,OAASC,sBAAT,uDACA,OAASC,2BAAT,iEACA,OAASC,mBAAT,iDACA,OAASC,wBAAT,2DACA,OAASC,kBAAT,+CACA,OAASC,kBAAT,+CACA,OAASC,uBAAT,yDACA,OAASC,cAAT,iBACA,OAGEC,yBAHF,eAOA,GAAMC,QAGL,CAAG,CACF,KAAQX,kBADN,CAEF,aAAcC,uBAFZ,CAGF,YAAaC,sBAHX,CAIF,kBAAmBC,2BAJjB,CAKF,KAAQG,kBALN,CAMF,KAAQC,kBANN,CAOF,aAAcC,uBAPZ,CAQF,MAASJ,mBARP,CASF,cAAeC,wBATb,CAHJ,CAeA,MAAO,IAAMO,eAAc,CAAG,YAAvB,CAEP,MAAO,IAAMC,WAA+B,CAAGtB,UAAU,CAAC,SAACuB,CAAD,CAAQC,CAAR,CAAgB,IAClEC,EAAa,CAAGvB,MAAM,CAAiB,IAAjB,CAD4C,GAYpEM,eAAe,CAACa,cAAD,CAAiBE,CAAjB,CAAwBE,CAAxB,CAZqD,KAGtEC,IAHsE,CAGtEA,CAHsE,YAG/DP,yBAH+D,OAItEQ,OAJsE,CAItEA,CAJsE,YAI5DtB,cAJ4D,OAKtEuB,OALsE,CAKtEA,CALsE,YAK5DxB,cAL4D,OAMtEyB,aANsE,CAMtEA,CANsE,YAMtD,KANsD,GAOtEC,CAPsE,GAOtEA,WAPsE,CAQtEC,CARsE,GAQtEA,iBARsE,CAStEC,CATsE,GAStEA,mBATsE,CAUtEC,CAVsE,GAUtEA,mBAVsE,CAWnEC,CAXmE,uCAelEC,CAAoB,CAAGlC,OAAO,CAAC,UAAmB,WACtD,MAAO,CACLmC,KAAK,kBACHN,CADG,WACHA,CADG,QACHA,CAAW,CAAEM,KADV,gBAEFL,CAAiB,SAAjB,QACG,CAAEM,IAAI,CAAEN,CAAR,CAJD,CAMLO,OAAO,kBACLR,CADK,WACLA,CADK,QACLA,CAAW,CAAEQ,OADR,gBAEJN,CAAmB,SAAnB,QACG,CAAEK,IAAI,CAAEL,CAAR,CATD,CAWLO,OAAO,kBACLT,CADK,WACLA,CADK,QACLA,CAAW,CAAES,OADR,gBAEJN,CAAmB,SAAnB,QACG,CAAEI,IAAI,CAAEJ,CAAR,CAdD,CAiBR,CAlBmC,CAkBjC,CACD1B,iBAAiB,CAACuB,CAAD,CADhB,CAEDC,CAFC,CAGDC,CAHC,CAIDC,CAJC,CAlBiC,CAfoC,CAwClEO,CAAS,CAAGvC,OAAO,CACvB,iBACEiB,eAAc,CAACQ,CAAD,CAAd,CACI,CACEI,WAAW,CAAEK,CADf,CADJ,OADF,CADuB,CAOvB,CAACT,CAAD,CAAOS,CAAP,CAPuB,CAxC+C,CAkDlEM,CAAS,CAAGnC,QAAQ,CAACc,OAAD,CAAUM,CAAV,CAlD8C,CAoDxE,MACE,qBAAC,CAAD,kBACMQ,CADN,CAEMM,CAFN,EAGE,aAAa,CAAEX,CAHjB,CAIE,OAAO,CAAEF,CAJX,CAKE,OAAO,CAAEC,CALX,CAME,GAAG,CAAEzB,UAAU,CAAC,CAACqB,CAAD,CAAMC,CAAN,CAAD,CANjB,GASH,CA9DwD,CAAlD,CAgEP,uBACA"}