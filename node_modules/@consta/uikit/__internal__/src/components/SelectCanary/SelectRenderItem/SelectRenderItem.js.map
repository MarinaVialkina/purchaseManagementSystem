{"version":3,"file":"SelectRenderItem.js","names":["useAtom","React","SelectRenderItem","props","renderItem","item","rootRef","onClick","onMouseEnter","highlightedIndexAtom","index","valueAtom","getItemKeyAtom","ctx","value","spy","getItemKey","get","find","valueItem","active","highlightedIndex","hovered","ref"],"sources":["../../../../../../src/components/SelectCanary/SelectRenderItem/SelectRenderItem.tsx"],"sourcesContent":["import { AtomMut } from '@reatom/framework';\nimport { useAtom } from '@reatom/npm-react';\nimport React from 'react';\n\ntype RenderItemProps<ITEM> = {\n  item: ITEM;\n  active: boolean;\n  hovered: boolean;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  ref: React.Ref<HTMLDivElement>;\n};\n\ntype SelectRenderItemProps<ITEM> = {\n  item: ITEM;\n  rootRef: React.Ref<HTMLDivElement>;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  renderItem: (props: RenderItemProps<ITEM>) => React.ReactNode | null;\n  highlightedIndexAtom: AtomMut<number>;\n  index: number;\n  valueAtom: AtomMut<ITEM[]>;\n  getItemKeyAtom: AtomMut<(item: ITEM) => string | number>;\n};\n\ntype SelectRenderItemComponent = <ITEM>(\n  props: SelectRenderItemProps<ITEM>,\n) => React.ReactNode;\n\nexport const SelectRenderItem: SelectRenderItemComponent = (props) => {\n  const {\n    renderItem,\n    item,\n    rootRef,\n    onClick,\n    onMouseEnter,\n    highlightedIndexAtom,\n    index,\n    valueAtom,\n    getItemKeyAtom,\n  } = props;\n\n  const [active] = useAtom((ctx) => {\n    const value = ctx.spy(valueAtom);\n\n    const getItemKey = ctx.get(getItemKeyAtom);\n\n    return !!value.find(\n      (valueItem) => getItemKey(valueItem) === getItemKey(item),\n    );\n  });\n\n  const [hovered] = useAtom((ctx) => {\n    const highlightedIndex = ctx.spy(highlightedIndexAtom);\n    return index === highlightedIndex;\n  });\n\n  return (\n    <>\n      {renderItem({\n        ref: rootRef,\n        onClick,\n        onMouseEnter,\n        item,\n        active,\n        hovered,\n      })}\n    </>\n  );\n};\n"],"mappings":"iEACA,OAASA,OAAT,KAAwB,mBAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CA2BA,MAAO,IAAMC,iBAA2C,CAAG,SAACC,CAAD,CAAW,IAElEC,EAFkE,CAWhED,CAXgE,CAElEC,UAFkE,CAGlEC,CAHkE,CAWhEF,CAXgE,CAGlEE,IAHkE,CAIlEC,CAJkE,CAWhEH,CAXgE,CAIlEG,OAJkE,CAKlEC,CALkE,CAWhEJ,CAXgE,CAKlEI,OALkE,CAMlEC,CANkE,CAWhEL,CAXgE,CAMlEK,YANkE,CAOlEC,CAPkE,CAWhEN,CAXgE,CAOlEM,oBAPkE,CAQlEC,CARkE,CAWhEP,CAXgE,CAQlEO,KARkE,CASlEC,CATkE,CAWhER,CAXgE,CASlEQ,SATkE,CAUlEC,CAVkE,CAWhET,CAXgE,CAUlES,cAVkE,GAanDZ,OAAO,CAAC,SAACa,CAAD,CAAS,IAC1BC,EAAK,CAAGD,CAAG,CAACE,GAAJ,CAAQJ,CAAR,CADkB,CAG1BK,CAAU,CAAGH,CAAG,CAACI,GAAJ,CAAQL,CAAR,CAHa,CAKhC,MAAO,CAAC,CAACE,CAAK,CAACI,IAAN,CACP,SAACC,CAAD,QAAeH,EAAU,CAACG,CAAD,CAAV,GAA0BH,CAAU,CAACX,CAAD,CAAnD,CADO,CAGV,CARuB,CAb4C,uBAa7De,CAb6D,QAuBlDpB,OAAO,CAAC,SAACa,CAAD,CAAS,CACjC,GAAMQ,EAAgB,CAAGR,CAAG,CAACE,GAAJ,CAAQN,CAAR,CAAzB,CACA,MAAOC,EAAK,GAAKW,CAClB,CAHwB,CAvB2C,uBAuB7DC,CAvB6D,MA4BpE,MACE,yCACGlB,CAAU,CAAC,CACVmB,GAAG,CAAEjB,CADK,CAEVC,OAAO,CAAPA,CAFU,CAGVC,YAAY,CAAZA,CAHU,CAIVH,IAAI,CAAJA,CAJU,CAKVe,MAAM,CAANA,CALU,CAMVE,OAAO,CAAPA,CANU,CAAD,CADb,CAWH,CAxCM"}