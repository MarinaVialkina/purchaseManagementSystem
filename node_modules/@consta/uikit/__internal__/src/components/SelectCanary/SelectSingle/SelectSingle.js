import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["form","status","size","disabled","value","renderValue","isLoading","dropdownRef","dropdownForm","renderItem","getGroupLabel","labelForCreate","labelForEmptyItems","virtualScroll","onScrollToBottom","style","className","placeholder","view","iconClear","input","inputValue","inputDefaultValue","inputRef","aria-label","getGroupKey","getItemDisabled","getItemGroupKey","getItemKey","getItemLabel","items","onChange","dropdownClassName","onFocus","onBlur","onCreate","onInput","multiple","groups","onDropdownOpen","ignoreOutsideClicksRefs","clearButton","selectAll","selectAllLabel","dropdownViewportRef"];import{useAction}from"@reatom/npm-react";import React,{forwardRef}from"react";import{SelectDropdown}from"../SelectDropdown";import{SelectItem}from"../SelectItem";import{useForkRef}from"../../../hooks/useForkRef";import{cnCanary as cn}from"../../../utils/bem";import{useSendToAtom}from"../../../utils/state";import{withCtx}from"../../../utils/state/withCtx";import{withDefault}from"../defaultProps";import{SelectControlLayout}from"../SelectControlLayout";import{SelectInput}from"../SelectInput";import{useSelect}from"../useSelect";var cnSelectSingle=cn("SelectSelectSingleMultiple"),SelectSingleRender=function(a,b){var c=withDefault(a),d=useSendToAtom(c),e=c.form,f=c.status,g=c.size,h=c.disabled,i=c.value,j=c.renderValue,k=c.isLoading,l=c.dropdownRef,m=c.dropdownForm,n=c.renderItem,o=c.getGroupLabel,p=c.labelForCreate,q=c.labelForEmptyItems,r=c.virtualScroll,s=c.onScrollToBottom,t=c.style,u=c.className,v=c.placeholder,w=c.view,x=c.iconClear,y=c.input,z=c.inputValue,A=c.inputDefaultValue,B=c.inputRef,C=c["aria-label"],D=c.getGroupKey,E=c.getItemDisabled,F=c.getItemGroupKey,G=c.getItemKey,H=c.getItemLabel,I=c.items,J=c.onChange,K=c.dropdownClassName,L=c.onFocus,M=c.onBlur,N=c.onCreate,O=c.onInput,P=c.multiple,Q=c.groups,R=c.onDropdownOpen,S=c.ignoreOutsideClicksRefs,T=c.clearButton,U=c.selectAll,V=c.selectAllLabel,W=c.dropdownViewportRef,X=_objectWithoutProperties(c,_excluded),Y=useAction(function(a,b){var c=b.value;return a.get(d).getItemLabel(c)},[]),Z=useAction(function(a,b){var c=b.item,e=b.active,f=b.hovered,g=b.onClick,h=b.onMouseEnter,i=b.ref,j=a.get(d),k=j.getItemLabel,l=j.size,m=j.dropdownForm,n=j.getItemDisabled;return React.createElement(SelectItem,{label:k(c),active:e,hovered:f,size:l,indent:"round"===m?"increased":"normal",onClick:g,onMouseEnter:h,disabled:n(c),ref:i})},[]),$=useSelect({propsAtom:d}),_=$.getOptionActions,aa=$.openAtom,ba=$.visibleItemsAtom,ca=$.focusAtom,da=$.handleInputFocus,ea=$.handleInputBlur,fa=$.handleToggleDropdown,ga=$.inputRef,ha=$.handleInputClick,ia=$.handleInputChange,ja=$.clearValue,ka=$.optionsRefs,la=$.controlRef,ma=$.dropdownRef,na=$.clearButtonAtom,oa=$.highlightedIndexAtom,pa=$.getItemKeyAtom,qa=$.valueAtom,ra=$.onChangeAll,sa=$.highlightIndex,ta=$.onCreate,ua=$.onChange,va=$.inputValueAtom,wa=$.hasItemsAtom,xa=$.groupsCounterAtom,ya=$.dropdownZIndexAtom;return React.createElement(React.Fragment,null,React.createElement(SelectControlLayout,Object.assign({},X,{style:t,className:cnSelectSingle(null,[u]),form:e,status:f,size:g,disabled:h,separator:!0,onClear:ja,onDropdownButton:fa,openAtom:aa,focusAtom:ca,view:w,iconClear:x,clearButtonAtom:na,ref:useForkRef([b,la])}),React.createElement(SelectInput,{onFocus:da,onBlur:ea,ref:useForkRef([ga,B]),onClick:ha,onChange:y?ia:void 0,value:y?z:void 0,defaultValue:y?A:void 0,readOnly:!y||void 0,disabled:h,placeholder:v,"aria-label":C},i&&(j||Y)({value:i}))),React.createElement(SelectDropdown,{valueAtom:qa,getItemKeyAtom:pa,openAtom:aa,size:g,controlRef:la,getOptionActions:_,dropdownRef:useForkRef([ma,l]),form:m,className:K,renderItem:n||Z,getGroupLabel:o,visibleItemsAtom:ba,labelForCreate:p,isLoading:k,labelForEmptyItems:q,itemsRefs:ka,virtualScroll:r,onScrollToBottom:s,highlightedIndexAtom:oa,highlightIndex:sa,onChangeAll:ra,onCreate:ta,onChange:ua,inputValueAtom:va,hasItemsAtom:wa,groupsCounterAtom:xa,dropdownZIndexAtom:ya,selectAllLabel:V,viewportRef:W}))};export var SelectSingle=withCtx(forwardRef(SelectSingleRender));
//# sourceMappingURL=SelectSingle.js.map