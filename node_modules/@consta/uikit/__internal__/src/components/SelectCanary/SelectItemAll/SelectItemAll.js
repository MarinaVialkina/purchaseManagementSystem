import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";var _excluded=["size","indent","className","groupsCounterAtom","groupId","highlightedIndexAtom","index","label"];import{useAtom}from"@reatom/npm-react";import React,{forwardRef}from"react";import{Checkbox}from"../../Checkbox";import{ListItem}from"../../ListCanary";import{Text}from"../../Text";import{cnCanary as cn}from"../../../utils/bem";import{sizeCheckboxMap}from"../SelectItem";export var cnSelectItemAll=cn("SelectItemAll");var textSizeMap={xs:"s",s:"s",m:"m",l:"l"},SelectItemAllCounter=function(a){var b=a.groupsCounterAtom,c=a.groupId,d=a.size,e=useAtom(function(a){var d,e=a.spy(b);return(null===(d=e[c])||void 0===d?void 0:d[1])||0}),f=_slicedToArray(e,1),g=f[0],h=useAtom(function(a){var d,e=a.spy(b);return(null===(d=e[c])||void 0===d?void 0:d[0])||0}),i=_slicedToArray(h,1),j=i[0];return React.createElement(Text,{size:textSizeMap[d],lineHeight:"xs",view:"ghost"},"".concat(j," \u0438\u0437 ").concat(g))},SelectItemAllCounterCheckbox=function(a){var b=a.groupsCounterAtom,c=a.groupId,d=a.size,e=useAtom(function(a){var d=a.spy(b);return void 0!==d[c]&&d[c][0]===d[c][1]}),f=_slicedToArray(e,1),g=f[0],h=useAtom(function(a){var d=a.spy(b);return void 0!==d[c]&&0<d[c][0]&&d[c][0]<d[c][1]}),i=_slicedToArray(h,1),j=i[0];return React.createElement(Checkbox,{checked:g,intermediate:j,size:sizeCheckboxMap[d]})};export var SelectItemAll=forwardRef(function(a,b){var c=a.size,d=a.indent,e=a.className,f=a.groupsCounterAtom,g=a.groupId,h=a.highlightedIndexAtom,i=a.index,j=a.label,k=_objectWithoutProperties(a,_excluded),l=useAtom(function(a){return a.spy(h)===i}),m=_slicedToArray(l,1),n=m[0];return React.createElement(ListItem,Object.assign({},k,{ref:b,className:cnSelectItemAll(null,[e]),role:"option",label:j,innerOffset:d,size:c,active:n,rightSide:React.createElement(SelectItemAllCounter,{size:c,groupsCounterAtom:f,groupId:g}),leftSide:React.createElement(SelectItemAllCounterCheckbox,{size:c,groupsCounterAtom:f,groupId:g})}))});
//# sourceMappingURL=SelectItemAll.js.map