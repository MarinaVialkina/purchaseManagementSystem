{"version":3,"file":"useSelect.js","names":["useAction","useAtom","useUpdate","useRef","useClickOutside","useDebounce","useKeysRef","useRefs","getGroups","useCreateAtom","usePickAtom","usePropAtom","scrollToIndex","isMultipleParams","params","multiple","isOptionForCreate","Object","prototype","hasOwnProperty","call","isNotOptionForCreate","isOptionForSelectAll","getCountedGroups","groups","selectAll","copyGroups","forEach","group","index","items","__optionSelectAll","groupKey","key","useSelect","propsAtom","inputRef","dropdownRef","controlRef","itemsAtom","selectAllAtom","valuePropAtom","disabledAtom","inputValuePropAtom","dropdownOpenPropAtom","dropdownZIndexAtom","ctx","zIndex","spy","style","ignoreOutsideClicksRefsAtom","onCreateAtom","getItemKeyAtom","ignoreOutsideClicksRefs","valueAtom","value","Array","isArray","focusAtom","openAtom","highlightedIndexAtom","inputValueAtom","clearButtonAtom","clearButton","inputValue","length","onInput","get","current","inputElementFocus","focus","optionForCreateAtom","onCreate","label","__optionForCreate","propsForVisibleItemsAtom","visibleItemsAtom","getItemGroupKey","getGroupKey","optionForCreate","resultGroups","groupsCounterAtom","visibleItems","getItemDisabled","groupCounter","getSelectedCounter","groupItems","some","item","maxHighlightIndex","_","maxHighlightIndexAtom","hasItemsAtom","optionsRefs","scrollToHighlightedIndex","highlightedIndex","dropdownElement","highlightIndex","indexForHighlight","state","newIndex","Math","min","max","removeValue","e","valueItem","stopPropagation","props","getItemKey","onChange","newValue","filter","disabled","val","onChangeAll","nonDisabledItems","currentGroupValues","withoutGroupValues","el","find","push","handleInputChange","input","target","handleInputClick","clearValue","results","getHandleRemoveValue","ArrowUp","preventDefault","old","ArrowDown","Enter","open","getData","counter","Escape","Tab","Backspace","PageUp","PageDown","Home","End","keys","getOptionActions","onClick","onMouseEnter","getItems","handleInputFocus","onFocus","focused","handleInputBlur","onBlur","handleToggleDropdown","ref","isActive","ignoreClicksInsideRefs","handler","disable","onDropdownOpen","inputValueProp","dropdownOpenProp"],"sources":["../../../../../../src/components/SelectCanary/useSelect/useSelect.ts"],"sourcesContent":["import { AtomMut } from '@reatom/framework';\nimport { useAction, useAtom, useUpdate } from '@reatom/npm-react';\nimport React, { useRef } from 'react';\n\nimport { useClickOutside } from '##/hooks/useClickOutside';\nimport { useDebounce } from '##/hooks/useDebounce';\nimport { KeyHandlers, useKeysRef } from '##/hooks/useKeysRef';\nimport { useRefs } from '##/hooks/useRefs';\nimport { getGroups, GetGroupsResult } from '##/utils/getGroups';\nimport { useCreateAtom } from '##/utils/state/useCreateAtom';\nimport { usePickAtom, usePropAtom } from '##/utils/state/usePickAtom';\n\nimport { PropsWithDefault } from '../../SelectCanary/defaultProps';\nimport { SelectGroupDefault, SelectItemDefault, SelectPropOnChange } from '..';\nimport { CountedGroup, Group, SelectAllItem } from '../types';\nimport { scrollToIndex } from './helpers';\n\ntype IndexForHighlight = number | ((oldIndex: number) => number);\n\nexport type OptionForCreate = {\n  label: string;\n  __optionForCreate: boolean;\n};\n\nexport type UseSelectProps<\n  ITEM = SelectItemDefault,\n  GROUP = SelectGroupDefault,\n  MULTIPLE extends boolean = false,\n> = {\n  propsAtom: AtomMut<PropsWithDefault<ITEM, GROUP, MULTIPLE>>;\n};\n\nexport type OptionProps<ITEM> = {\n  index: number;\n  item: ITEM | OptionForCreate | SelectAllItem;\n};\n\nexport type GetOptionPropsResult = {\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n};\n\nconst isMultipleParams = <ITEM = SelectItemDefault, GROUP = SelectGroupDefault>(\n  params: PropsWithDefault<ITEM, GROUP, boolean>,\n): params is PropsWithDefault<ITEM, GROUP, true> => {\n  return !!params.multiple;\n};\n\nexport const isOptionForCreate = <ITEM, GROUP>(\n  params: OptionForCreate | Group<ITEM, GROUP> | ITEM,\n): params is OptionForCreate => {\n  return (\n    params && Object.prototype.hasOwnProperty.call(params, '__optionForCreate')\n  );\n};\n\nexport const isNotOptionForCreate = <ITEM, GROUP>(\n  params: OptionForCreate | Group<ITEM, GROUP>,\n): params is Group<ITEM, GROUP> => {\n  return (\n    params && !Object.prototype.hasOwnProperty.call(params, '__optionForCreate')\n  );\n};\n\nexport const isOptionForSelectAll = <ITEM>(\n  params: SelectAllItem | ITEM,\n): params is SelectAllItem => {\n  return (\n    params && Object.prototype.hasOwnProperty.call(params, '__optionSelectAll')\n  );\n};\n\nexport function getCountedGroups<ITEM, GROUP>(\n  groups: GetGroupsResult<ITEM, GROUP>,\n  selectAll: boolean,\n): CountedGroup<ITEM, GROUP>[] {\n  const copyGroups: CountedGroup<ITEM, GROUP>[] = [...groups];\n\n  if (selectAll) {\n    groups.forEach((group, index) => {\n      copyGroups[index].items = [\n        {\n          __optionSelectAll: true,\n          groupKey: group.key,\n        },\n        ...copyGroups[index].items,\n      ];\n    });\n  }\n  return copyGroups;\n}\n\nexport const useSelect = <\n  ITEM = SelectItemDefault,\n  GROUP = SelectItemDefault,\n  MULTIPLE extends boolean = false,\n>({\n  propsAtom,\n}: UseSelectProps<ITEM, GROUP, MULTIPLE>) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const controlRef = useRef<HTMLDivElement>(null);\n\n  const itemsAtom = usePropAtom(propsAtom, 'items');\n  const selectAllAtom = usePropAtom(propsAtom, 'selectAll');\n  const valuePropAtom = usePropAtom(propsAtom, 'value');\n  const disabledAtom = usePropAtom(propsAtom, 'disabled');\n  const inputValuePropAtom = usePropAtom(propsAtom, 'inputValue');\n  const dropdownOpenPropAtom = usePropAtom(propsAtom, 'dropdownOpen');\n  const dropdownZIndexAtom = useCreateAtom((ctx) => {\n    const zIndex = ctx.spy(propsAtom).style?.zIndex;\n    return typeof zIndex === 'number' ? zIndex + 1 : undefined;\n  });\n  const ignoreOutsideClicksRefsAtom = usePropAtom(\n    propsAtom,\n    'ignoreOutsideClicksRefs',\n  );\n  const onCreateAtom = usePropAtom(propsAtom, 'onCreate');\n  const getItemKeyAtom = usePropAtom(propsAtom, 'getItemKey');\n  const [ignoreOutsideClicksRefs] = useAtom(ignoreOutsideClicksRefsAtom);\n\n  const valueAtom = useCreateAtom((ctx) => {\n    const value = ctx.spy(valuePropAtom);\n    return (value && (Array.isArray(value) ? value : [value])) || [];\n  }) as unknown as AtomMut<ITEM[]>;\n  const focusAtom = useCreateAtom(false);\n  const openAtom = useCreateAtom(false);\n  const highlightedIndexAtom = useCreateAtom(0);\n  const inputValueAtom = useCreateAtom('');\n\n  const clearButtonAtom = useCreateAtom((ctx) => {\n    const { clearButton } = ctx.spy(propsAtom);\n    const inputValue = ctx.spy(inputValueAtom);\n    const value = ctx.spy(valueAtom);\n    return !!(clearButton && (value?.length || inputValue));\n  });\n\n  const onInput = useAction((ctx, value: string | undefined = '') => {\n    ctx.get(propsAtom).onInput?.(value);\n    inputValueAtom(ctx, value);\n\n    if (inputRef.current) {\n      inputRef.current.value = value;\n    }\n  });\n\n  const inputElementFocus = useDebounce(\n    useAction(() => {\n      inputRef.current?.focus();\n    }),\n    10,\n  );\n\n  const optionForCreateAtom = useCreateAtom<OptionForCreate | undefined>(\n    (ctx) => {\n      const onCreate = ctx.spy(onCreateAtom);\n      if (!onCreate) {\n        return undefined;\n      }\n      const inputValue = ctx.spy(inputValueAtom);\n      const optionForCreate: OptionForCreate = {\n        label: inputValue,\n        __optionForCreate: true,\n      };\n      return optionForCreate;\n    },\n  );\n\n  const propsForVisibleItemsAtom = usePickAtom(\n    propsAtom as AtomMut<PropsWithDefault<ITEM, GROUP, boolean>>,\n    [\n      'selectAll',\n      'groups',\n      'getItemGroupKey',\n      'getGroupKey',\n      'getItemDisabled',\n      'getItemKey',\n      'items',\n    ],\n  );\n\n  const visibleItemsAtom = useCreateAtom((ctx) => {\n    const { selectAll, groups, getItemGroupKey, getGroupKey, items } = ctx.spy(\n      propsForVisibleItemsAtom,\n    );\n\n    const optionForCreate = ctx.spy(optionForCreateAtom);\n\n    const resultGroups = getCountedGroups(\n      getGroups(\n        items,\n        groups?.length ? getItemGroupKey : undefined,\n        groups,\n        getGroupKey,\n        undefined,\n      ),\n      !!selectAll,\n    );\n\n    return optionForCreate ? [optionForCreate, ...resultGroups] : resultGroups;\n  });\n\n  const groupsCounterAtom = useCreateAtom((ctx) => {\n    const visibleItems = ctx.spy(visibleItemsAtom);\n    const selectAll = ctx.spy(selectAllAtom);\n    const value = ctx.spy(valueAtom);\n    const { getItemDisabled } = ctx.get(propsForVisibleItemsAtom);\n\n    const groupCounter: Record<string, [number, number]> = {};\n\n    const getSelectedCounter = () => {\n      for (const group of visibleItems) {\n        if (isOptionForCreate(group)) {\n          continue;\n        }\n        groupCounter[group.key] = [0, group.items.length - 1];\n        for (const groupItems of group.items) {\n          if (\n            !isOptionForSelectAll(groupItems) &&\n            !getItemDisabled(groupItems) &&\n            value.some((item) => item === groupItems)\n          ) {\n            groupCounter[group.key][0] = (groupCounter[group.key][0] || 0) + 1;\n          }\n        }\n      }\n    };\n\n    if (selectAll) {\n      getSelectedCounter();\n    }\n\n    return groupCounter;\n  });\n\n  // eslint-disable-next-line no-unused-vars\n  const [maxHighlightIndex, _, maxHighlightIndexAtom] = useAtom((ctx) => {\n    const items = ctx.spy(itemsAtom);\n    const optionForCreate = ctx.spy(optionForCreateAtom);\n    const selectAll = ctx.spy(selectAllAtom);\n    const visibleItems = ctx.spy(visibleItemsAtom);\n\n    return (\n      items.length +\n      // кнопка для создания\n      (optionForCreate ? 1 : 0) +\n      // кнопки выбрать все\n      (selectAll ? visibleItems.length : 0)\n    );\n  });\n\n  const hasItemsAtom = useCreateAtom((ctx) => {\n    const items = ctx.spy(itemsAtom);\n    const optionForCreate = ctx.spy(optionForCreateAtom);\n\n    if (optionForCreate) {\n      return true;\n    }\n\n    return !!items.length;\n  });\n\n  const optionsRefs = useRefs<HTMLDivElement>(maxHighlightIndex, undefined);\n\n  const scrollToHighlightedIndex = useAction((ctx) => {\n    const items = ctx.get(itemsAtom);\n    const highlightedIndex = ctx.get(highlightedIndexAtom);\n    const dropdownElement = dropdownRef.current;\n\n    if (items.length > 0 && dropdownElement) {\n      scrollToIndex(highlightedIndex, dropdownElement, optionsRefs);\n    }\n  });\n\n  const highlightIndex = useAction(\n    (ctx, indexForHighlight: IndexForHighlight) => {\n      const maxHighlightIndex = ctx.get(maxHighlightIndexAtom);\n\n      highlightedIndexAtom(ctx, (state) => {\n        const newIndex = Math.min(\n          Math.max(\n            0,\n            typeof indexForHighlight === 'function'\n              ? indexForHighlight(state)\n              : indexForHighlight,\n          ),\n          maxHighlightIndex - 1,\n        );\n\n        return newIndex;\n      });\n    },\n  );\n\n  const removeValue = useAction(\n    (ctx, e: React.SyntheticEvent, valueItem: ITEM) => {\n      e.stopPropagation();\n      const props = ctx.get(propsAtom);\n\n      if (isMultipleParams(props)) {\n        const { getItemDisabled, getItemKey, onChange } = props;\n\n        const newValue = ctx.get(valueAtom).filter((item) => {\n          return getItemDisabled?.(item)\n            ? true\n            : getItemKey(item) !== getItemKey(valueItem);\n        });\n\n        onChange(newValue?.length ? newValue : null, {\n          e,\n        });\n      }\n    },\n  );\n\n  const onChange = useAction((ctx, e: React.SyntheticEvent, item: ITEM) => {\n    const { getItemDisabled, getItemKey, onChange, multiple, disabled } =\n      ctx.get(propsAtom);\n\n    if (disabled || (getItemDisabled && getItemDisabled(item))) {\n      return;\n    }\n\n    if (multiple) {\n      const value = ctx.get(valueAtom);\n      const newValue = value.some(\n        (value) => getItemKey(value) === getItemKey(item),\n      )\n        ? value.filter((value) => getItemKey(value) !== getItemKey(item))\n        : [...value, item];\n      const val = newValue?.length ? newValue : null;\n      (onChange as SelectPropOnChange<ITEM, true>)(val, { e });\n    } else {\n      (onChange as SelectPropOnChange<ITEM, false>)(item, { e });\n      onInput('');\n      openAtom(ctx, false);\n    }\n  });\n\n  const onChangeAll = useAction(\n    (ctx, e: React.SyntheticEvent, items: ITEM[]) => {\n      const props = ctx.get(propsAtom);\n      const value = ctx.get(valueAtom);\n      const { getItemDisabled, getItemKey, multiple, onChange } = props;\n\n      if (multiple) {\n        const nonDisabledItems = getItemDisabled\n          ? items.filter((item) => !getItemDisabled(item))\n          : items;\n\n        const currentGroupValues: ITEM[] = [];\n        const withoutGroupValues: ITEM[] = [];\n        value.forEach((el) => {\n          if (\n            nonDisabledItems.find((item) => getItemKey(el) === getItemKey(item))\n          ) {\n            currentGroupValues.push(el);\n          } else {\n            withoutGroupValues.push(el);\n          }\n        });\n        if (currentGroupValues.length === nonDisabledItems.length) {\n          (onChange as SelectPropOnChange<ITEM, true>)(withoutGroupValues, {\n            e,\n          });\n        } else {\n          const val = [...withoutGroupValues, ...nonDisabledItems];\n          (onChange as SelectPropOnChange<ITEM, true>)(val, {\n            e,\n          });\n        }\n      }\n    },\n  );\n\n  const onCreate = useAction((ctx, e: React.SyntheticEvent) => {\n    const { onCreate } = ctx.get(propsAtom);\n    onCreate?.(ctx.get(inputValueAtom), { e });\n    openAtom(ctx, false);\n    onInput('');\n  });\n\n  // Handlers\n\n  const handleInputChange = useAction(\n    (ctx, e: React.ChangeEvent<HTMLInputElement>): void => {\n      if (!ctx.get(disabledAtom) && ctx.get(propsAtom).input) {\n        onInput?.(e.target.value);\n        openAtom(ctx, true);\n      }\n    },\n  );\n\n  const handleInputClick = useAction((ctx) => {\n    !ctx.get(disabledAtom) && openAtom(ctx, (value) => !value);\n\n    inputElementFocus();\n  });\n\n  const clearValue = useAction((ctx, e: React.SyntheticEvent) => {\n    const { getItemDisabled, multiple, onChange, disabled } =\n      ctx.get(propsAtom);\n\n    if (disabled) {\n      return;\n    }\n\n    const value = ctx.get(valueAtom);\n    if (multiple) {\n      const results = value?.filter((item) => getItemDisabled?.(item));\n      const val = results && results.length > 0 ? results : null;\n      (onChange as SelectPropOnChange<ITEM, true>)(val, {\n        e,\n      });\n    } else {\n      onChange(null, { e });\n    }\n    onInput('');\n  });\n\n  const getHandleRemoveValue = useAction(\n    (_, item: ITEM) => (e: React.SyntheticEvent) => removeValue(e, item),\n  );\n\n  // Prop Getters\n\n  const ArrowUp = useAction((ctx, e: KeyboardEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!ctx.get(disabledAtom)) {\n      openAtom(ctx, true);\n      highlightIndex((old) => old - 1);\n      scrollToHighlightedIndex();\n    }\n  });\n\n  const ArrowDown = useAction((ctx, e: KeyboardEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!ctx.get(disabledAtom)) {\n      openAtom(ctx, true);\n      highlightIndex((old) => old + 1);\n      scrollToHighlightedIndex();\n    }\n  });\n\n  const Enter = useAction((ctx, e: React.SyntheticEvent) => {\n    const { items } = ctx.get(propsAtom);\n    const highlightedIndex = ctx.get(highlightedIndexAtom);\n    const inputValue = ctx.get(inputValueAtom);\n    const visibleItems = ctx.get(visibleItemsAtom);\n    const open = ctx.get(openAtom);\n\n    if (open) {\n      if (inputValue || items[highlightedIndex]) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      const getData = (\n        index: number,\n      ): [\n        CountedGroup<ITEM, GROUP> | undefined,\n        SelectAllItem | OptionForCreate | ITEM | undefined,\n      ] => {\n        let counter = 0;\n\n        for (const group of visibleItems) {\n          if (isOptionForCreate(group)) {\n            if (counter === index) {\n              return [undefined, group];\n            }\n            counter++;\n            continue;\n          }\n          if (group.items.length + counter > index) {\n            return [group, group.items[index - counter]];\n          }\n          counter += group.items.length;\n        }\n        return [undefined, undefined];\n      };\n\n      const [group, item] = getData(highlightedIndex);\n\n      if (isOptionForCreate(item)) {\n        onCreate(e);\n        return;\n      }\n\n      if (isOptionForSelectAll(item)) {\n        onChangeAll(\n          e,\n          (group?.items.filter((el) => !isOptionForSelectAll(el)) as ITEM[]) ??\n            [],\n        );\n        return;\n      }\n\n      if (item) {\n        onChange(e, item);\n      }\n    } else {\n      openAtom(ctx, true);\n    }\n  });\n\n  const Escape = useAction((ctx, e: KeyboardEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    openAtom(ctx, false);\n  });\n\n  const Tab = useAction((ctx, e: KeyboardEvent) => {\n    if (ctx.get(openAtom)) {\n      e.preventDefault();\n      e.stopPropagation();\n      openAtom(ctx, false);\n    }\n  });\n\n  const Backspace = useAction((ctx, e: React.SyntheticEvent) => {\n    const inputValue = ctx.get(inputValueAtom);\n    const { multiple, clearButton } = ctx.get(propsAtom);\n    const value = ctx.get(valueAtom);\n\n    if (inputValue) {\n      return;\n    }\n\n    if (multiple) {\n      removeValue(e, value[value.length - 1]);\n    } else {\n      clearButton && clearValue?.(e);\n    }\n  });\n\n  const [keys] = useAtom({\n    ArrowUp,\n    ArrowDown,\n    PageUp: ArrowUp,\n    PageDown: ArrowDown,\n    Home: ArrowUp,\n    End: ArrowDown,\n    Enter,\n    Escape,\n    Tab,\n    Backspace,\n  });\n\n  const getOptionActions = useAction(\n    (ctx, { index, item }: OptionProps<ITEM>): GetOptionPropsResult => {\n      const visibleItems = ctx.get(visibleItemsAtom);\n\n      if (isOptionForCreate(item)) {\n        return {\n          onClick: onCreate,\n          onMouseEnter: () => highlightIndex(index),\n        };\n      }\n      if (isOptionForSelectAll(item)) {\n        const getItems = (): ITEM[] => {\n          for (const group of visibleItems) {\n            if (isOptionForCreate(group)) {\n              continue;\n            }\n            if (group.key === item.groupKey) {\n              return (\n                (group?.items.filter(\n                  (el) => !isOptionForSelectAll(el),\n                ) as ITEM[]) ?? []\n              );\n            }\n          }\n          return [];\n        };\n        return {\n          onClick: (e: React.SyntheticEvent) => onChangeAll(e, getItems()),\n          onMouseEnter: () => highlightIndex(index),\n        };\n      }\n\n      return {\n        onClick: (e: React.SyntheticEvent) => onChange(e, item),\n        onMouseEnter: () => highlightIndex(index),\n      };\n    },\n  );\n\n  const handleInputFocus = useAction(\n    (ctx, e: React.FocusEvent<HTMLInputElement>): void => {\n      const { disabled, onFocus } = ctx.get(propsAtom);\n      const focused = ctx.get(focusAtom);\n\n      if (!disabled) {\n        if (!focused) {\n          focusAtom(ctx, true);\n        }\n        if (typeof onFocus === 'function') {\n          onFocus(e);\n        }\n      }\n    },\n  );\n\n  const handleInputBlur = useAction(\n    (ctx, e: React.FocusEvent<HTMLInputElement>): void => {\n      const { onBlur } = ctx.get(propsAtom);\n      if (ctx.get(openAtom)) {\n        inputElementFocus();\n        return;\n      }\n\n      if (ctx.get(focusAtom)) {\n        focusAtom(ctx, false);\n      }\n\n      if (typeof onBlur === 'function') {\n        onBlur(e);\n      }\n    },\n  );\n\n  const handleToggleDropdown = useAction((ctx) => {\n    const disabled = ctx.get(disabledAtom);\n    if (ctx.get(openAtom)) {\n      openAtom(ctx, false);\n      focusAtom(ctx, false);\n    } else if (!disabled) {\n      openAtom(ctx, true);\n      focusAtom(ctx, true);\n      inputRef.current?.focus();\n    }\n  });\n\n  useKeysRef({\n    keys: keys as unknown as KeyHandlers,\n    ref: inputRef,\n    isActive: useAction((ctx) => !ctx.get(disabledAtom)),\n  });\n\n  useClickOutside({\n    isActive: true,\n    ignoreClicksInsideRefs: [\n      dropdownRef,\n      controlRef,\n      ...(ignoreOutsideClicksRefs || []),\n    ],\n    handler: useAction((ctx) => {\n      openAtom(ctx, false);\n      focusAtom(ctx, false);\n    }),\n  });\n\n  useUpdate((ctx, disable) => disable && openAtom(ctx, false), [disabledAtom]);\n\n  useUpdate(\n    (ctx, open = false) => {\n      ctx.get(propsAtom).onDropdownOpen?.(open);\n      highlightIndex(0);\n    },\n    [openAtom],\n  );\n\n  useUpdate(\n    (ctx, inputValueProp = '') => {\n      const inputValue = ctx.get(inputValueAtom);\n\n      if (inputValueProp !== inputValue) {\n        onInput(inputValueProp);\n      }\n    },\n    [inputValuePropAtom],\n  );\n\n  useUpdate(\n    (ctx, dropdownOpenProp = false) => openAtom(ctx, dropdownOpenProp),\n    [dropdownOpenPropAtom],\n  );\n\n  return {\n    openAtom,\n    focusAtom,\n    inputValueAtom,\n    clearButtonAtom,\n    onInput,\n    getOptionActions,\n    handleInputBlur,\n    handleToggleDropdown,\n    getHandleRemoveValue,\n    inputRef,\n    dropdownRef,\n    controlRef,\n    handleInputChange,\n    handleInputClick,\n    handleInputFocus,\n    visibleItemsAtom,\n    clearValue,\n    optionsRefs,\n    highlightedIndexAtom,\n    valueAtom,\n    getItemKeyAtom,\n    onChangeAll,\n    highlightIndex,\n    onCreate,\n    onChange,\n    hasItemsAtom,\n    groupsCounterAtom,\n    dropdownZIndexAtom,\n  };\n};\n"],"mappings":"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"}