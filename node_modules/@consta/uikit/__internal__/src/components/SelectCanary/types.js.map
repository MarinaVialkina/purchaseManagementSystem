{"version":3,"file":"types.js","names":[],"sources":["../../../../../src/components/SelectCanary/types.ts"],"sourcesContent":["import { IconComponent } from '@consta/icons/Icon';\nimport React from 'react';\n\nimport {\n  FieldPropForm,\n  FieldPropSize,\n  FieldPropStatus,\n  FieldPropView,\n} from '##/components/FieldComponents';\nimport { PropsWithHTMLAttributesAndRef } from '##/utils/types/PropsWithHTMLAttributes';\n\nexport type RenderItemProps<ITEM> = {\n  item: ITEM;\n  active: boolean;\n  hovered: boolean;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  ref: React.Ref<HTMLDivElement>;\n};\n\nexport type SelectItemDefault = {\n  label: string;\n  id: string | number;\n  groupId?: string | number;\n  disabled?: boolean;\n};\n\nexport type SelectGroupDefault = {\n  label: string;\n  id: string | number;\n};\n\nexport type SelectPropGetItemLabel<ITEM> = (item: ITEM) => string;\nexport type SelectPropGetItemKey<ITEM> = (item: ITEM) => string | number;\nexport type SelectPropGetItemGroupKey<ITEM> = (\n  item: ITEM,\n) => string | number | undefined;\nexport type SelectPropGetItemDisabled<ITEM> = (\n  item: ITEM,\n) => boolean | undefined;\nexport type SelectPropGetGroupKey<GROUP> = (group: GROUP) => string | number;\nexport type SelectPropGetGroupLabel<GROUP> = (group: GROUP) => string;\n\nexport type SelectPropOnChange<ITEM, MULTIPLE extends boolean> = (\n  value: (MULTIPLE extends true ? ITEM[] : ITEM) | null,\n  props: {\n    e: React.SyntheticEvent;\n  },\n) => void;\nexport type SelectPropValue<ITEM, MULTIPLE extends boolean> =\n  | (MULTIPLE extends true ? ITEM[] : ITEM)\n  | null\n  | undefined;\n\nexport type SelectPropRenderItem<ITEM> = (\n  props: RenderItemProps<ITEM>,\n) => React.ReactNode | null;\n\nexport type SelectPropRenderValue<ITEM, MULTIPLE> = MULTIPLE extends true\n  ? (props: {\n      value: ITEM[];\n      getRemove: (\n        item: ITEM,\n      ) => (e: React.SyntheticEvent<Element, Event>) => void;\n    }) => React.ReactNode | null\n  : (props: { value: ITEM }) => React.ReactNode | null;\n\nexport type SelectPropOnCreate = (\n  label: string,\n  props: { e: React.SyntheticEvent },\n) => void;\n\nexport type SelectAllItem = {\n  groupKey: string | number;\n  __optionSelectAll: true;\n};\n\nexport type Group<ITEM, GROUP> = {\n  items: ITEM[];\n  key: string | number;\n  group?: GROUP;\n};\n\nexport type CountedGroup<ITEM, GROUP> = Omit<Group<ITEM, GROUP>, 'items'> & {\n  items: Array<SelectAllItem | ITEM>;\n};\n\nexport type SelectPropsInit<\n  ITEM = SelectItemDefault,\n  GROUP = SelectGroupDefault,\n  MULTIPLE extends boolean = false,\n> = PropsWithHTMLAttributesAndRef<\n  {\n    'items': ITEM[];\n    'onChange': SelectPropOnChange<ITEM, MULTIPLE>;\n    'disabled'?: boolean;\n    'form'?: FieldPropForm;\n    'dropdownForm'?: 'default' | 'brick' | 'round';\n    'size'?: FieldPropSize;\n    'view'?: FieldPropView;\n    'placeholder'?: string;\n    'aria-Label'?: string;\n    'status'?: FieldPropStatus;\n    'isLoading'?: boolean;\n    'dropdownClassName'?: string;\n    'dropdownRef'?: React.Ref<HTMLDivElement>;\n    'renderItem'?: SelectPropRenderItem<ITEM>;\n    'renderValue'?: SelectPropRenderValue<ITEM, MULTIPLE>;\n    'onFocus'?: React.FocusEventHandler<HTMLInputElement>;\n    'onBlur'?: React.FocusEventHandler<HTMLInputElement>;\n    'onCreate'?: SelectPropOnCreate;\n    'inputRef'?: React.Ref<HTMLInputElement>;\n    'input'?: boolean;\n    'inputValue'?: string;\n    'inputDefaultValue'?: string;\n    'onInput'?: (value: string) => void;\n    'labelForCreate'?:\n      | ((label: string | undefined) => React.ReactNode)\n      | React.ReactNode;\n    'labelForEmptyItems'?: string;\n    'multiple'?: MULTIPLE;\n    'value'?: SelectPropValue<ITEM, MULTIPLE>;\n    'groups'?: GROUP[];\n    'getItemLabel'?: SelectPropGetItemLabel<ITEM>;\n    'getItemKey'?: SelectPropGetItemKey<ITEM>;\n    'getItemGroupKey'?: SelectPropGetItemGroupKey<ITEM>;\n    'getItemDisabled'?: SelectPropGetItemDisabled<ITEM>;\n    'getGroupLabel'?: SelectPropGetGroupLabel<GROUP>;\n    'getGroupKey'?: SelectPropGetGroupKey<GROUP>;\n    'virtualScroll'?: boolean;\n    'onScrollToBottom'?: (length: number) => void;\n    'onDropdownOpen'?: (isOpen: boolean) => void;\n    'dropdownOpen'?: boolean;\n    'dropdownViewportRef'?: React.RefObject<HTMLElement>;\n    'ignoreOutsideClicksRefs'?: ReadonlyArray<React.RefObject<HTMLElement>>;\n    'clearButton'?: boolean;\n    'iconClear'?: IconComponent;\n    'selectAll'?: MULTIPLE extends true ? boolean : never;\n    'selectAllLabel'?: string;\n  },\n  HTMLDivElement\n>;\n\nexport type SelectProps<\n  ITEM = SelectItemDefault,\n  GROUP = SelectGroupDefault,\n  MULTIPLE extends boolean = false,\n> = SelectPropsInit<ITEM, GROUP, MULTIPLE> &\n  (ITEM extends { label: SelectItemDefault['label'] }\n    ? {}\n    : { getItemLabel: SelectPropGetItemLabel<ITEM> }) &\n  (ITEM extends { id: SelectItemDefault['id'] }\n    ? {}\n    : { getItemKey: SelectPropGetItemKey<ITEM> }) &\n  (GROUP extends { label: SelectGroupDefault['label'] }\n    ? {}\n    : { getGroupLabel: SelectPropGetGroupLabel<GROUP> }) &\n  (GROUP extends { id: SelectGroupDefault['id'] }\n    ? {}\n    : { getGroupKey: SelectPropGetGroupKey<GROUP> });\n\nexport type SelectComponent = <\n  ITEM = SelectItemDefault,\n  GROUP = SelectGroupDefault,\n  MULTIPLE extends boolean = false,\n>(\n  props: SelectProps<ITEM, GROUP, MULTIPLE>,\n) => React.ReactNode | null;\n"],"mappings":""}