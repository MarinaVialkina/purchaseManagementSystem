{"version":3,"file":"SelectDropdown.js","names":["useAtom","React","Fragment","memo","useMemo","ListItem","ListLoader","mapVerticalSpace","isNotOptionForCreate","isOptionForCreate","isOptionForSelectAll","forkRef","useForkRef","useVirtualScroll","cnMixScrollBar","cnMixSpace","cnCanary","cn","fabricIndex","SelectCreateButton","SelectGroupLabel","SelectItemAll","SelectLoader","SelectPopover","SelectRenderItem","selectDropdownForm","defaultSelectDropdownPropForm","cnSelectDropdown","getLengthElements","elements","length","index","element","items","isVisible","slice","SelectDropdown","props","controlRef","size","getOptionActions","dropdownRefProp","dropdownRef","labelForCreate","className","labelForNotFound","labelForEmptyItems","hasItemsAtom","form","openAtom","offset","offsetProp","renderItem","visibleItemsAtom","isLoading","getGroupLabel","notFound","itemsRefs","virtualScroll","onScrollToBottom","highlightedIndexAtom","valueAtom","getItemKeyAtom","highlightIndex","onCreate","onChange","onChangeAll","inputValueAtom","groupsCounterAtom","dropdownZIndexAtom","selectAllLabel","otherProps","visibleItems","hasItems","isListMount","setIsListMount","getItemKey","indent","isListShowed","filter","group","Array","isArray","lengthForVirtualScroll","isActive","spaceTop","sliceHookProp","listRefs","scrollElementRef","scrollContainerRef","getIndex","getVirtualIndex","zIndex","pV","marginTop","map","key","virtualIndex","item"],"sources":["../../../../../../src/components/SelectCanary/SelectDropdown/SelectDropdown.tsx"],"sourcesContent":["import './SelectDropdown.css';\n\nimport { AtomMut } from '@reatom/framework';\nimport { useAtom } from '@reatom/npm-react';\nimport React, { Fragment, memo, useMemo } from 'react';\n\nimport { FieldPropSize } from '##/components/FieldComponents';\nimport {\n  ListItem,\n  ListLoader,\n  mapVerticalSpace,\n} from '##/components/ListCanary';\nimport { PopoverPropOffset } from '##/components/Popover';\nimport {\n  GetOptionPropsResult,\n  isNotOptionForCreate,\n  isOptionForCreate,\n  isOptionForSelectAll,\n  OptionForCreate,\n  OptionProps,\n} from '##/components/SelectCanary/useSelect';\nimport { forkRef, useForkRef } from '##/hooks/useForkRef';\nimport { useVirtualScroll } from '##/hooks/useVirtualScroll';\nimport { cnMixScrollBar } from '##/mixs/MixScrollBar';\nimport { cnMixSpace } from '##/mixs/MixSpace';\nimport { cnCanary as cn } from '##/utils/bem';\nimport { fabricIndex } from '##/utils/fabricIndex';\nimport { SelectAllItem } from '##/utils/getGroups';\nimport { PropsWithJsxAttributes } from '##/utils/types/PropsWithJsxAttributes';\n\nimport { SelectCreateButton } from '../SelectCreateButton/SelectCreateButton';\nimport { SelectGroupLabel } from '../SelectGroupLabel/SelectGroupLabel';\nimport { SelectItemAll } from '../SelectItemAll/SelectItemAll';\nimport { SelectLoader } from '../SelectLoader/SelectLoader';\nimport { SelectPopover } from '../SelectPopover';\nimport { SelectRenderItem } from '../SelectRenderItem';\nimport { CountedGroup } from '../types';\n\nexport const selectDropdownForm = ['default', 'brick', 'round'] as const;\nexport type SelectDropdownPropForm = typeof selectDropdownForm[number];\nexport const defaultSelectDropdownPropForm = selectDropdownForm[0];\n\ntype RenderItemProps<ITEM> = {\n  item: ITEM;\n  active: boolean;\n  hovered: boolean;\n  onClick: (e: React.MouseEvent) => void;\n  onMouseEnter: (e: React.MouseEvent) => void;\n  ref: React.Ref<HTMLDivElement>;\n};\n\ntype Props<ITEM, GROUP> = PropsWithJsxAttributes<{\n  size: FieldPropSize;\n  controlRef: React.MutableRefObject<HTMLDivElement | null>;\n  dropdownRef: React.Ref<HTMLDivElement>;\n  getOptionActions(props: OptionProps<ITEM>): GetOptionPropsResult;\n  form: SelectDropdownPropForm;\n  openAtom: AtomMut<boolean>;\n  offset?: PopoverPropOffset | 'none';\n  isLoading?: boolean;\n  renderItem: (props: RenderItemProps<ITEM>) => React.ReactNode | null;\n  highlightedIndexAtom: AtomMut<number>;\n  visibleItemsAtom: AtomMut<(OptionForCreate | CountedGroup<ITEM, GROUP>)[]>;\n  getGroupLabel?: (group: GROUP) => string;\n  labelForCreate?:\n    | ((label: string | undefined) => React.ReactNode)\n    | React.ReactNode;\n  labelForNotFound?: string;\n  labelForEmptyItems?: string;\n  notFound?: boolean;\n  hasItemsAtom: AtomMut<boolean>;\n  itemsRefs: React.RefObject<HTMLDivElement>[];\n  virtualScroll?: boolean;\n  onScrollToBottom?: (length: number) => void;\n  valueAtom: AtomMut<ITEM[]>;\n  getItemKeyAtom: AtomMut<(item: ITEM) => string | number>;\n  onChangeAll: (e: React.SyntheticEvent, items: ITEM[]) => void;\n  highlightIndex: (index: number) => void;\n  onCreate: (e: React.SyntheticEvent) => void;\n  onChange: (e: React.SyntheticEvent, item: ITEM) => void;\n  inputValueAtom: AtomMut<string>;\n  groupsCounterAtom: AtomMut<Record<string, [number, number]>>;\n  dropdownZIndexAtom: AtomMut<number | undefined>;\n  selectAllLabel: string;\n  viewportRef?: React.RefObject<HTMLElement>;\n}>;\n\ntype SelectDropdownComponent = <ITEM, GROUP>(\n  props: Props<ITEM, GROUP>,\n) => React.ReactNode | null;\n\nconst cnSelectDropdown = cn('SelectDropdown');\n\nconst getLengthElements = <ITEM, GROUP>(\n  elements: (\n    | OptionForCreate\n    | {\n        items: Array<SelectAllItem | ITEM>;\n        key: string | number;\n        group?: GROUP;\n      }\n  )[],\n) => {\n  let length = elements.length <= 1 ? 0 : elements.length;\n\n  for (let index = 0; index < elements.length; index++) {\n    const element = elements[index];\n\n    if (isNotOptionForCreate(element) && element?.items?.length) {\n      length += element.items.length;\n    }\n  }\n\n  return length;\n};\n\nconst isVisible = (slice: [number, number], index: number) => {\n  return index >= slice[0] && index < slice[1];\n};\n\nexport const SelectDropdown: SelectDropdownComponent = memo((props) => {\n  const {\n    controlRef,\n    size,\n    getOptionActions,\n    dropdownRef: dropdownRefProp,\n    labelForCreate,\n    className,\n    labelForNotFound,\n    labelForEmptyItems,\n    hasItemsAtom,\n    form,\n    openAtom,\n    offset: offsetProp = 'none',\n    renderItem,\n    visibleItemsAtom,\n    isLoading,\n    getGroupLabel,\n    notFound,\n    itemsRefs,\n    virtualScroll,\n    onScrollToBottom,\n    highlightedIndexAtom,\n    valueAtom,\n    getItemKeyAtom,\n    highlightIndex,\n    onCreate,\n    onChange,\n    onChangeAll,\n    inputValueAtom,\n    groupsCounterAtom,\n    dropdownZIndexAtom,\n    selectAllLabel,\n    ...otherProps\n  } = props;\n\n  const [visibleItems] = useAtom(visibleItemsAtom);\n\n  const [hasItems] = useAtom(hasItemsAtom);\n  const [isListMount, setIsListMount] = useAtom(false);\n  const [getItemKey] = useAtom(getItemKeyAtom);\n  const indent = form === 'round' ? 'increased' : 'normal';\n\n  const isListShowed = useMemo(() => {\n    return (\n      visibleItems.filter(\n        (group) =>\n          isOptionForCreate(group) ||\n          (Array.isArray(group.items) && group.items.length > 0),\n      ).length > 0\n    );\n  }, [visibleItems]);\n\n  const offset = offsetProp === 'none' ? undefined : offsetProp;\n\n  const lengthForVirtualScroll = useMemo(\n    () => getLengthElements(visibleItems),\n    [visibleItems],\n  );\n\n  const {\n    spaceTop,\n    slice: sliceHookProp,\n    listRefs,\n    scrollElementRef,\n  } = useVirtualScroll({\n    length: lengthForVirtualScroll,\n    isActive: virtualScroll && isListMount,\n    onScrollToBottom,\n  });\n\n  const scrollContainerRef = useForkRef([scrollElementRef, dropdownRefProp]);\n\n  const slice: [number, number] =\n    sliceHookProp[0] === 0 && virtualScroll ? [0, 50] : sliceHookProp;\n\n  const getIndex = fabricIndex();\n  const getVirtualIndex = fabricIndex();\n  const [zIndex] = useAtom(dropdownZIndexAtom);\n\n  return (\n    <SelectPopover\n      {...otherProps}\n      anchorRef={controlRef}\n      offset={offset}\n      role=\"listbox\"\n      className={cnSelectDropdown()}\n      size={size}\n      controlRef={controlRef}\n      openAtom={openAtom}\n      form={form}\n      onMount={setIsListMount}\n      style={{ zIndex }}\n    >\n      {isListMount && (\n        <div\n          className={cnSelectDropdown('ScrollContainer', [\n            cnMixSpace({\n              pV: mapVerticalSpace[size],\n            }),\n            cnMixScrollBar({ size: 'xs' }),\n          ])}\n          ref={scrollContainerRef}\n        >\n          {isLoading && !isListShowed && <SelectLoader />}\n          <div\n            className={cnSelectDropdown('List')}\n            key={cnSelectDropdown('List')}\n            style={{ marginTop: spaceTop }}\n          >\n            {visibleItems.map((group) => {\n              if (isOptionForCreate(group)) {\n                const index = getIndex();\n                return (\n                  <SelectCreateButton\n                    size={size}\n                    key={cnSelectDropdown('List', { key: 'CreateButton' })}\n                    labelForCreate={labelForCreate}\n                    indent={indent}\n                    ref={itemsRefs[index]}\n                    onClick={onCreate}\n                    highlightedIndexAtom={highlightedIndexAtom}\n                    inputValueAtom={inputValueAtom}\n                    highlightIndex={highlightIndex}\n                    index={index}\n                  />\n                );\n              }\n\n              const virtualIndex =\n                visibleItems.length > 1 ? getVirtualIndex() : 0;\n\n              return (\n                <Fragment key={group.key}>\n                  {group.group &&\n                    getGroupLabel &&\n                    isVisible(slice, virtualIndex) && (\n                      <SelectGroupLabel\n                        label={getGroupLabel(group.group)}\n                        size={size}\n                        indent={indent}\n                        ref={listRefs[virtualIndex]}\n                        key={`group-${group.key}-Label`}\n                      />\n                    )}\n                  {group.items.map((item) => {\n                    if (isOptionForSelectAll(item)) {\n                      const virtualIndex = getVirtualIndex();\n                      const index = getIndex();\n\n                      if (isVisible(slice, virtualIndex)) {\n                        return (\n                          <SelectItemAll\n                            label={selectAllLabel}\n                            groupId={group.key}\n                            highlightedIndexAtom={highlightedIndexAtom}\n                            groupsCounterAtom={groupsCounterAtom}\n                            key={cnSelectDropdown('SelectItemAll', {\n                              group: group.key,\n                            })}\n                            ref={forkRef([\n                              listRefs[virtualIndex],\n                              itemsRefs[index],\n                            ])}\n                            indent={indent}\n                            size={size}\n                            {...getOptionActions({\n                              index,\n                              item,\n                            })}\n                            index={index}\n                          />\n                        );\n                      }\n                    } else {\n                      const virtualIndex = getVirtualIndex();\n                      const index = getIndex();\n                      if (isVisible(slice, virtualIndex)) {\n                        return (\n                          <SelectRenderItem\n                            key={cnSelectDropdown('SelectRenderItem', {\n                              group: group.key,\n                              item: getItemKey(item),\n                            })}\n                            getItemKeyAtom={getItemKeyAtom}\n                            highlightedIndexAtom={highlightedIndexAtom}\n                            rootRef={forkRef([\n                              listRefs[virtualIndex],\n                              itemsRefs[index],\n                            ])}\n                            renderItem={renderItem}\n                            item={item}\n                            {...getOptionActions({\n                              index,\n                              item,\n                            })}\n                            index={index}\n                            valueAtom={valueAtom}\n                          />\n                        );\n                      }\n                    }\n                  })}\n                </Fragment>\n              );\n            })}\n            {isLoading && isListShowed && (\n              <ListLoader size={size} innerOffset={indent} />\n            )}\n          </div>\n          {!isLoading && !hasItems && labelForEmptyItems && (\n            <ListItem\n              size={size}\n              label={labelForEmptyItems}\n              innerOffset={indent}\n            >\n              {labelForEmptyItems}\n            </ListItem>\n          )}\n        </div>\n      )}\n    </SelectPopover>\n  );\n});\n"],"mappings":"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"}