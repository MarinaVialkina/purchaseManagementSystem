{"version":3,"file":"BadgeGroup.js","names":["React","forwardRef","Badge","badgePropFormDefault","badgePropSizeDefault","forkRef","useForkRef","useHideElementsInLine","cn","withDefaultGetters","cnBadgeGroup","BadgeGroupRender","props","ref","items","fitMode","getItemAs","getItemAttributes","getItemIconLeft","getItemIconRight","getItemKey","getItemLabel","getItemStatus","getItemRef","getItemView","minified","size","form","className","moreRefProp","moreRef","moreAttributes","otherProps","length","moreIndex","visibleMap","elementsRefs","parentRef","map","item","index","hidden","filter","BadgeGroup"],"sources":["../../../../../src/components/BadgeGroup/BadgeGroup.tsx"],"sourcesContent":["import './BadgeGroup.css';\n\nimport React, { forwardRef } from 'react';\n\nimport {\n  Badge,\n  badgePropFormDefault,\n  badgePropSizeDefault,\n} from '##/components/Badge';\nimport { forkRef, useForkRef } from '##/hooks/useForkRef';\nimport { useHideElementsInLine } from '##/hooks/useHideElementsInLine';\nimport { cn } from '##/utils/bem';\n\nimport { withDefaultGetters } from './helper';\nimport { BadgeGroupComponent, BadgeGroupProps } from './types';\n\nconst cnBadgeGroup = cn('BadgeGroup');\n\nconst BadgeGroupRender = (\n  props: BadgeGroupProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    items,\n    fitMode = 'wrap',\n    getItemAs,\n    getItemAttributes,\n    getItemIconLeft,\n    getItemIconRight,\n    getItemKey,\n    getItemLabel,\n    getItemStatus,\n    getItemRef,\n    getItemView,\n    minified,\n    size = badgePropSizeDefault,\n    form = badgePropFormDefault,\n    className,\n    moreRef: moreRefProp,\n    moreAttributes,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  const length = items.length + 1;\n  const moreIndex = length - 1;\n\n  const { visibleMap, elementsRefs, parentRef } = useHideElementsInLine(\n    length,\n    moreIndex,\n    0,\n    [fitMode, form],\n  );\n\n  const moreRef = useForkRef([elementsRefs[moreIndex], moreRefProp]);\n\n  return (\n    <div\n      ref={useForkRef([ref, parentRef])}\n      className={cnBadgeGroup({ size, fitMode }, [className])}\n      {...otherProps}\n    >\n      {items.map((item, index) => {\n        return (\n          <Badge\n            key={getItemKey(item)}\n            size={size}\n            form={form}\n            minified={minified}\n            label={getItemLabel(item)}\n            iconLeft={getItemIconLeft(item)}\n            iconRight={getItemIconRight(item)}\n            as={getItemAs(item)}\n            ref={forkRef([elementsRefs[index], getItemRef(item)])}\n            view={getItemView(item)}\n            status={getItemStatus(item)}\n            className={cnBadgeGroup('Badge', {\n              hidden: fitMode === 'reduction' ? !visibleMap[index] : false,\n            })}\n            {...getItemAttributes(item)}\n          />\n        );\n      })}\n      {fitMode === 'reduction' && (\n        <Badge\n          className={cnBadgeGroup('Badge', {\n            hidden: !visibleMap[items.length],\n          })}\n          key=\"more\"\n          label={`+${visibleMap.filter((item) => !item).length}`}\n          status=\"system\"\n          form={form}\n          size={size}\n          view=\"filled\"\n          ref={moreRef}\n          {...moreAttributes}\n        />\n      )}\n    </div>\n  );\n};\n\nexport const BadgeGroup = forwardRef(BadgeGroupRender) as BadgeGroupComponent;\n\nexport * from './types';\n"],"mappings":"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"}