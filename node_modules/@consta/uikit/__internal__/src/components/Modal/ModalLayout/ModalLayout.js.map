{"version":3,"file":"ModalLayout.js","names":["React","forwardRef","cnMixSpace","cn","isNotNil","cnModalLayout","getSlotProp","prop","index","Array","isArray","childrenToArray","children","filter","getSlotPropFirstOrLast","border","slots","value","length","ModalLayout","props","ref","className","space","fixed","otherProps","map","child","stretch"],"sources":["../../../../../../src/components/Modal/ModalLayout/ModalLayout.tsx"],"sourcesContent":["import './ModalLayout.css';\n\nimport React, { forwardRef } from 'react';\n\nimport { cnMixSpace, MixSpaceProps } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\nimport { isNotNil } from '##/utils/type-guards';\nimport { PropsWithHTMLAttributes } from '##/utils/types/PropsWithHTMLAttributes';\n\nexport const cnModalLayout = cn('ModalLayout');\n\ntype ModalLayoutProps = PropsWithHTMLAttributes<\n  {\n    children?: React.ReactNode;\n    fixed?: boolean | [boolean, boolean];\n    border?: boolean | [boolean, boolean];\n    space?: MixSpaceProps | (MixSpaceProps | undefined)[];\n  },\n  HTMLDivElement\n>;\n\nconst getSlotProp = <T,>(\n  prop: T | (T | undefined)[] | undefined,\n  index: number,\n) => (Array.isArray(prop) ? prop[index] : prop);\n\nconst childrenToArray = (children: React.ReactNode): React.ReactNode[] =>\n  (Array.isArray(children) ? children : [children]).filter(isNotNil);\n\nconst getSlotPropFirstOrLast = (\n  border: boolean | [boolean, boolean] | undefined,\n  index: number,\n  slots: React.ReactNode[],\n  value: [string, string],\n) => {\n  const { length } = slots;\n  if (index === 0) {\n    return getSlotProp(border, 0) ? value[0] : undefined;\n  }\n\n  if (index === length - 1) {\n    return getSlotProp(border, 1) ? value[1] : undefined;\n  }\n};\n\nexport const ModalLayout = forwardRef<HTMLDivElement, ModalLayoutProps>(\n  (props, ref) => {\n    const { children, className, border, space, fixed, ...otherProps } = props;\n\n    const slots = childrenToArray(children);\n\n    return (\n      <div\n        {...otherProps}\n        ref={ref}\n        className={cnModalLayout(null, [className])}\n      >\n        {slots.map((child, index) => (\n          <div\n            key={index}\n            className={cnModalLayout(\n              'Slot',\n              {\n                fixed: getSlotPropFirstOrLast(fixed, index, slots, [\n                  'top',\n                  'bottom',\n                ]),\n                border: getSlotPropFirstOrLast(border, index, slots, [\n                  'bottom ',\n                  'top',\n                ]),\n                stretch:\n                  (index === slots.length - 2 && getSlotProp(fixed, 1)) ||\n                  (index === slots.length - 1 && !getSlotProp(fixed, 1)),\n              },\n              [cnMixSpace(getSlotProp(space, index))],\n            )}\n          >\n            {child}\n          </div>\n        ))}\n      </div>\n    );\n  },\n);\n"],"mappings":"qJAAA,0BAEA,MAAOA,MAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CAEA,OAASC,UAAT,8BACA,OAASC,EAAT,0BACA,OAASC,QAAT,kCAGA,MAAO,IAAMC,cAAa,CAAGF,EAAE,CAAC,aAAD,CAAxB,C,GAYDG,YAAW,CAAG,SAClBC,CADkB,CAElBC,CAFkB,QAGdC,MAAK,CAACC,OAAN,CAAcH,CAAd,EAAsBA,CAAI,CAACC,CAAD,CAA1B,CAAoCD,CAHtB,C,CAKdI,eAAe,CAAG,SAACC,CAAD,QACtB,CAACH,KAAK,CAACC,OAAN,CAAcE,CAAd,EAA0BA,CAA1B,CAAqC,CAACA,CAAD,CAAtC,EAAkDC,MAAlD,CAAyDT,QAAzD,CADsB,C,CAGlBU,sBAAsB,CAAG,SAC7BC,CAD6B,CAE7BP,CAF6B,CAG7BQ,CAH6B,CAI7BC,CAJ6B,CAK1B,CACH,GAAQC,EAAR,CAAmBF,CAAnB,CAAQE,MAAR,CADG,MAEW,EAAV,GAAAV,CAFD,CAGMF,WAAW,CAACS,CAAD,CAAS,CAAT,CAAX,CAAyBE,CAAK,CAAC,CAAD,CAA9B,OAHN,CAMCT,CAAK,GAAKU,CAAM,CAAG,CANpB,CAOMZ,WAAW,CAACS,CAAD,CAAS,CAAT,CAAX,CAAyBE,CAAK,CAAC,CAAD,CAA9B,OAPN,OASJ,C,CAED,MAAO,IAAME,YAAW,CAAGlB,UAAU,CACnC,SAACmB,CAAD,CAAQC,CAAR,CAAgB,IACNT,EADM,CACuDQ,CADvD,CACNR,QADM,CACIU,CADJ,CACuDF,CADvD,CACIE,SADJ,CACeP,CADf,CACuDK,CADvD,CACeL,MADf,CACuBQ,CADvB,CACuDH,CADvD,CACuBG,KADvB,CAC8BC,CAD9B,CACuDJ,CADvD,CAC8BI,KAD9B,CACwCC,CADxC,0BACuDL,CADvD,YAGRJ,CAAK,CAAGL,eAAe,CAACC,CAAD,CAHf,CAKd,MACE,4CACMa,CADN,EAEE,GAAG,CAAEJ,CAFP,CAGE,SAAS,CAAEhB,aAAa,CAAC,IAAD,CAAO,CAACiB,CAAD,CAAP,CAH1B,GAKGN,CAAK,CAACU,GAAN,CAAU,SAACC,CAAD,CAAQnB,CAAR,QACT,4BACE,GAAG,CAAEA,CADP,CAEE,SAAS,CAAEH,aAAa,CACtB,MADsB,CAEtB,CACEmB,KAAK,CAAEV,sBAAsB,CAACU,CAAD,CAAQhB,CAAR,CAAeQ,CAAf,CAAsB,CACjD,KADiD,CAEjD,QAFiD,CAAtB,CAD/B,CAKED,MAAM,CAAED,sBAAsB,CAACC,CAAD,CAASP,CAAT,CAAgBQ,CAAhB,CAAuB,CACnD,SADmD,CAEnD,KAFmD,CAAvB,CALhC,CASEY,OAAO,CACJpB,CAAK,GAAKQ,CAAK,CAACE,MAAN,CAAe,CAAzB,EAA8BZ,WAAW,CAACkB,CAAD,CAAQ,CAAR,CAA1C,EACChB,CAAK,GAAKQ,CAAK,CAACE,MAAN,CAAe,CAAzB,EAA8B,CAACZ,WAAW,CAACkB,CAAD,CAAQ,CAAR,CAX/C,CAFsB,CAetB,CAACtB,UAAU,CAACI,WAAW,CAACiB,CAAD,CAAQf,CAAR,CAAZ,CAAX,CAfsB,CAF1B,EAoBGmB,CApBH,CADS,CAAV,CALH,CA+BH,CAtCkC,CAA9B"}