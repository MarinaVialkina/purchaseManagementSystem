{"version":3,"file":"ModalHeader.js","names":["IconClose","React","forwardRef","Button","Text","cnMixFlex","cnMixHitSlop","cn","isString","cnModalHeader","StatusIcon","Icon","icon","status","size","align","justify","rootFlexProps","horizontal","direction","gap","vertical","ModalHeader","props","ref","children","className","onClose","otherProps","minHeight","fixed","mode"],"sources":["../../../../../../src/components/Modal/ModalHeader/ModalHeader.tsx"],"sourcesContent":["import './ModalHeader.css';\n\nimport { IconComponent } from '@consta/icons/Icon';\nimport { IconClose } from '@consta/icons/IconClose';\nimport React, { forwardRef } from 'react';\n\nimport { Button } from '##/components/Button';\nimport { Text } from '##/components/Text';\nimport { cnMixFlex, CnMixFlexProps } from '##/mixs/MixFlex';\nimport { cnMixHitSlop } from '##/mixs/MixHitSlop';\nimport { cn } from '##/utils/bem';\nimport { isString } from '##/utils/type-guards';\nimport { PropsWithHTMLAttributes } from '##/utils/types/PropsWithHTMLAttributes';\n\nexport const cnModalHeader = cn('ModalHeader');\n\ntype ModalHeaderPropDirection = 'vertical' | 'horizontal';\n\nexport type ModalHeaderPropStatus =\n  | 'success'\n  | 'system'\n  | 'normal'\n  | 'warning'\n  | 'alert';\n\ntype ModalHeaderProps = PropsWithHTMLAttributes<\n  {\n    direction?: ModalHeaderPropDirection;\n    icon?: IconComponent;\n    status?: ModalHeaderPropStatus;\n    onClose?: () => void;\n    size?: 's' | 'm' | 'l' | 'xs';\n  },\n  HTMLDivElement\n>;\n\nconst StatusIcon: React.FC<{\n  icon: IconComponent;\n  status: ModalHeaderProps['status'];\n  size: 'm' | 'l';\n}> = ({ icon: Icon, status, size = 'm' }) => {\n  return (\n    <Text\n      view={status}\n      className={cnModalHeader('StatusIcon', { status, size }, [\n        cnMixFlex({ align: 'center', justify: 'center' }),\n      ])}\n      style={\n        status\n          ? {\n              ['--modal-status-icon-degree-mixing' as string]:\n                status === 'system' ? '30%' : '10%',\n              ['--modal-status-icon-bg' as string]: `var(--color-bg-${status})`,\n            }\n          : undefined\n      }\n    >\n      <Icon size=\"m\" view={status === 'system' ? 'secondary' : undefined} />\n    </Text>\n  );\n};\n\nconst rootFlexProps: Record<ModalHeaderPropDirection, CnMixFlexProps> = {\n  horizontal: {\n    direction: 'row',\n    gap: 'xs',\n  },\n  vertical: {\n    direction: 'column',\n    align: 'center',\n    justify: 'center',\n    gap: 's',\n  },\n};\n\nexport const ModalHeader = forwardRef<HTMLDivElement, ModalHeaderProps>(\n  (props, ref) => {\n    const {\n      children,\n      className,\n      icon: Icon,\n      onClose,\n      direction = 'horizontal',\n      size,\n      status,\n      ...otherProps\n    } = props;\n\n    return (\n      <div\n        {...otherProps}\n        ref={ref}\n        className={cnModalHeader(\n          { gap: direction === 'vertical' && onClose && !Icon },\n          [className, cnMixFlex(rootFlexProps[direction])],\n        )}\n      >\n        {Icon && (\n          <StatusIcon\n            icon={Icon}\n            status={status}\n            size={direction === 'vertical' ? 'l' : 'm'}\n          />\n        )}\n        {isString(children) ? (\n          <Text\n            view=\"primary\"\n            weight=\"semibold\"\n            size={size}\n            align={direction === 'vertical' ? 'center' : undefined}\n            className={cnModalHeader(\n              'Title',\n              {\n                minHeight:\n                  direction === 'horizontal' ||\n                  (direction === 'vertical' && !Icon),\n                gap: direction === 'vertical' && onClose && !Icon,\n              },\n              [cnMixFlex({ align: 'center' })],\n            )}\n          >\n            {children}\n          </Text>\n        ) : (\n          children\n        )}\n        {onClose && (\n          <Button\n            className={cnModalHeader(\n              'ButtonClose',\n              { fixed: direction === 'vertical' || (!children && !Icon) },\n              [cnMixHitSlop({ mode: 'reverseMargin' })],\n            )}\n            size=\"s\"\n            view=\"clear\"\n            iconLeft={IconClose}\n            onClick={onClose}\n            form=\"round\"\n          />\n        )}\n      </div>\n    );\n  },\n);\n"],"mappings":"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"}