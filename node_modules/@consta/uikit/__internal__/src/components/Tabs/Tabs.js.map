{"version":3,"file":"Tabs.js","names":["React","forwardRef","useRefs","cnMixScrollBar","useChoiceGroup","useResizeObserved","cn","getTabsDirection","getTabsWrapper","withDefaultGetters","TabsBorderLine","TabsRunningLine","TabsTab","tabsDefaultFitMode","tabsDefaultLinePosition","tabsDefaultSize","tabsDefaultView","cnTabs","renderItemDefault","props","item","attributes","as","otherProps","TabsRender","ref","size","className","items","view","value","linePosition","fitMode","withScrollButtons","onlyIcon","getItemIcon","getItemAs","getItemAttributes","getItemRef","getItemLabel","getItemKeyProp","getItemKey","onChange","iconSize","renderItem","renderItemProp","getItemLeftIcon","getItemLeftSide","getItemRightIcon","getItemRightSide","getItemDisabled","disabled","getKey","callBack","multiple","getOnChange","getChecked","tabsDirection","isVertical","tabRefs","length","tabsDimensions","el","gap","parseInt","getComputedStyle","activeTabIdx","findIndex","onClick","renderInDropdown","checked","label","toString","icon","leftIcon","rightIcon","leftSide","rightSide","tabRef","Wrapper","direction","invisible","renderItemsList","withRunningLine","visibleIndexes","getTabClassName","map","idx","Tabs"],"sources":["../../../../../src/components/Tabs/Tabs.tsx"],"sourcesContent":["import './Tabs.css';\n\nimport React, { forwardRef } from 'react';\n\nimport { useRefs } from '##/hooks/useRefs';\nimport { cnMixScrollBar } from '##/mixs/MixScrollBar';\n\nimport { useChoiceGroup } from '../../hooks/useChoiceGroup/useChoiceGroup';\nimport { useResizeObserved } from '../../hooks/useResizeObserved/useResizeObserved';\nimport { cn } from '../../utils/bem';\nimport {\n  getTabsDirection,\n  getTabsWrapper,\n  withDefaultGetters,\n} from './helpers';\nimport { TabsBorderLine, TabsRunningLine } from './TabsLine/TabsLine';\nimport { TabsTab } from './TabsTab/TabsTab';\nimport {\n  RenderItemProps,\n  RenderItemsListProp,\n  TabDimensions,\n  TabsComponent,\n  tabsDefaultFitMode,\n  tabsDefaultLinePosition,\n  tabsDefaultSize,\n  tabsDefaultView,\n  TabsProps,\n} from './types';\n\nexport const cnTabs = cn('Tabs');\n\nfunction renderItemDefault<ITEM>(\n  props: RenderItemProps<ITEM>,\n): React.ReactNode {\n  const { item, attributes = {}, as, ...otherProps } = props;\n  return <TabsTab {...attributes} {...otherProps} as={as} />;\n}\n\nconst TabsRender = (props: TabsProps, ref: React.Ref<HTMLDivElement>) => {\n  const {\n    size = tabsDefaultSize,\n    className,\n    items,\n    view = tabsDefaultView,\n    value,\n    linePosition = tabsDefaultLinePosition,\n    fitMode = tabsDefaultFitMode,\n    withScrollButtons = true,\n    onlyIcon,\n    getItemIcon,\n    getItemAs,\n    getItemAttributes,\n    getItemRef,\n    getItemLabel,\n    getItemKey: getItemKeyProp,\n    onChange,\n    iconSize,\n    renderItem: renderItemProp = renderItemDefault,\n    getItemLeftIcon,\n    getItemLeftSide,\n    getItemRightIcon,\n    getItemRightSide,\n    getItemDisabled,\n    disabled,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  const getItemKey = getItemKeyProp || getItemLabel;\n\n  const { getOnChange, getChecked } = useChoiceGroup({\n    value: value || null,\n    getKey: getItemKey,\n    callBack: onChange,\n    multiple: false,\n  });\n\n  const tabsDirection = getTabsDirection(linePosition);\n  const isVertical = tabsDirection === 'vertical';\n  const tabRefs = useRefs<HTMLDivElement>(items.length, [\n    items.length,\n    fitMode,\n    isVertical,\n  ]);\n\n  const tabsDimensions = useResizeObserved(\n    tabRefs,\n    (el): TabDimensions => ({\n      size: el?.[isVertical ? 'offsetHeight' : 'offsetWidth'] ?? 0,\n      gap: el\n        ? parseInt(\n            getComputedStyle(el)[isVertical ? 'marginBottom' : 'marginRight'],\n            10,\n          )\n        : 0,\n    }),\n  );\n\n  const activeTabIdx = items.findIndex(getChecked);\n\n  const renderItem = (\n    item: typeof items[number],\n    onClick?: () => void,\n    renderInDropdown?: boolean,\n  ) =>\n    renderItemProp({\n      item,\n      onChange: (...args) => {\n        onClick?.();\n        getOnChange(item)(...args);\n      },\n      checked: getChecked(item),\n      label: getItemLabel(item).toString(),\n      icon: getItemIcon(item),\n      leftIcon: getItemLeftIcon(item),\n      rightIcon: getItemRightIcon(item),\n      leftSide: getItemLeftSide(item),\n      rightSide: getItemRightSide(item),\n      disabled: disabled || getItemDisabled(item),\n      onlyIcon,\n      size,\n      iconSize,\n      renderInDropdown,\n      as: getItemAs(item) || 'button',\n      tabRef: getItemRef(item),\n      attributes: getItemAttributes(item),\n    });\n\n  const renderItemsList: RenderItemsListProp = ({\n    withRunningLine = true,\n    visibleIndexes,\n    getTabClassName,\n  }) => (\n    <div className={cnTabs('List', { direction: tabsDirection, linePosition })}>\n      {items.map((item, idx) => (\n        <div\n          ref={tabRefs[idx]}\n          key={getItemKey(item)}\n          className={cnTabs('Tab', { direction: tabsDirection }, [\n            getTabClassName?.(idx),\n          ])}\n        >\n          {renderItem(item)}\n        </div>\n      ))}\n      {withRunningLine && !disabled && (\n        <TabsRunningLine\n          visibleIndexes={visibleIndexes}\n          linePosition={linePosition}\n          tabsDimensions={tabsDimensions}\n          activeTabIdx={activeTabIdx}\n        />\n      )}\n    </div>\n  );\n\n  const Wrapper = getTabsWrapper(tabsDirection, fitMode);\n\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cnTabs({ size, view, direction: tabsDirection }, [\n        className,\n        cnMixScrollBar({ invisible: true }),\n      ])}\n      ref={ref}\n      {...otherProps}\n    >\n      <Wrapper\n        tabRefs={tabRefs}\n        onChange={onChange}\n        tabsDimensions={tabsDimensions}\n        renderItem={renderItem}\n        renderItemsList={renderItemsList}\n        getItemKey={getItemKey}\n        getItemChecked={getChecked}\n        items={items}\n        size={size}\n        withScrollButtons={withScrollButtons}\n      />\n      {view === 'bordered' && <TabsBorderLine linePosition={linePosition} />}\n    </div>\n  );\n};\n\nexport const Tabs = forwardRef(TabsRender) as TabsComponent;\n\nexport * from './types';\n"],"mappings":"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"}