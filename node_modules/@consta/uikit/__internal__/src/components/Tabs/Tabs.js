import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["item","attributes","as"],_excluded2=["size","className","items","view","value","linePosition","fitMode","withScrollButtons","onlyIcon","getItemIcon","getItemAs","getItemAttributes","getItemRef","getItemLabel","getItemKey","onChange","iconSize","renderItem","getItemLeftIcon","getItemLeftSide","getItemRightIcon","getItemRightSide","getItemDisabled","disabled"];import"./Tabs.css";import React,{forwardRef}from"react";import{useRefs}from"../../hooks/useRefs";import{cnMixScrollBar}from"../../mixs/MixScrollBar";import{useChoiceGroup}from"../../hooks/useChoiceGroup/useChoiceGroup";import{useResizeObserved}from"../../hooks/useResizeObserved/useResizeObserved";import{cn}from"../../utils/bem";import{getTabsDirection,getTabsWrapper,withDefaultGetters}from"./helpers";import{TabsBorderLine,TabsRunningLine}from"./TabsLine/TabsLine";import{TabsTab}from"./TabsTab/TabsTab";import{tabsDefaultFitMode,tabsDefaultLinePosition,tabsDefaultSize,tabsDefaultView}from"./types";export var cnTabs=cn("Tabs");function renderItemDefault(a){var b=a.item,c=a.attributes,d=void 0===c?{}:c,e=a.as,f=_objectWithoutProperties(a,_excluded);return React.createElement(TabsTab,Object.assign({},d,f,{as:e}))}var TabsRender=function(a,b){var c=withDefaultGetters(a),d=c.size,e=void 0===d?tabsDefaultSize:d,f=c.className,g=c.items,h=c.view,i=void 0===h?tabsDefaultView:h,j=c.value,k=c.linePosition,l=void 0===k?tabsDefaultLinePosition:k,m=c.fitMode,n=void 0===m?tabsDefaultFitMode:m,o=c.withScrollButtons,p=c.onlyIcon,q=c.getItemIcon,r=c.getItemAs,s=c.getItemAttributes,t=c.getItemRef,u=c.getItemLabel,v=c.getItemKey,w=c.onChange,x=c.iconSize,y=c.renderItem,z=void 0===y?renderItemDefault:y,A=c.getItemLeftIcon,B=c.getItemLeftSide,C=c.getItemRightIcon,D=c.getItemRightSide,E=c.getItemDisabled,F=c.disabled,G=_objectWithoutProperties(c,_excluded2),H=v||u,I=useChoiceGroup({value:j||null,getKey:H,callBack:w,multiple:!1}),J=I.getOnChange,K=I.getChecked,L=getTabsDirection(l),M="vertical"===L,N=useRefs(g.length,[g.length,n,M]),O=useResizeObserved(N,function(a){var b;return{size:null!==(b=null===a||void 0===a?void 0:a[M?"offsetHeight":"offsetWidth"])&&void 0!==b?b:0,gap:a?parseInt(getComputedStyle(a)[M?"marginBottom":"marginRight"],10):0}}),P=g.findIndex(K),Q=function(a,b,c){return z({item:a,onChange:function(){null===b||void 0===b?void 0:b(),J(a).apply(void 0,arguments)},checked:K(a),label:u(a).toString(),icon:q(a),leftIcon:A(a),rightIcon:C(a),leftSide:B(a),rightSide:D(a),disabled:F||E(a),onlyIcon:p,size:e,iconSize:x,renderInDropdown:c,as:r(a)||"button",tabRef:t(a),attributes:s(a)})},R=getTabsWrapper(L,n);return g.length?React.createElement("div",Object.assign({className:cnTabs({size:e,view:i,direction:L},[f,cnMixScrollBar({invisible:!0})]),ref:b},G),React.createElement(R,{tabRefs:N,onChange:w,tabsDimensions:O,renderItem:Q,renderItemsList:function renderItemsList(a){var b=a.withRunningLine,c=a.visibleIndexes,d=a.getTabClassName;return React.createElement("div",{className:cnTabs("List",{direction:L,linePosition:l})},g.map(function(a,b){return React.createElement("div",{ref:N[b],key:H(a),className:cnTabs("Tab",{direction:L},[null===d||void 0===d?void 0:d(b)])},Q(a))}),(!(void 0!==b)||b)&&!F&&React.createElement(TabsRunningLine,{visibleIndexes:c,linePosition:l,tabsDimensions:O,activeTabIdx:P}))},getItemKey:H,getItemChecked:K,items:g,size:e,withScrollButtons:!(void 0!==o)||o}),"bordered"===i&&React.createElement(TabsBorderLine,{linePosition:l})):null};export var Tabs=forwardRef(TabsRender);export*from"./types";
//# sourceMappingURL=Tabs.js.map