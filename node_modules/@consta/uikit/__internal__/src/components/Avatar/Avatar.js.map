{"version":3,"file":"Avatar.js","names":["React","useMemo","cn","forwardRefWithAs","getColorIndexForName","getInitialsForName","MAX_COLOR_INDEX","avatarPropSize","avatarPropSizeDefault","avatarPropForm","avatarPropFormDefault","cnAvatar","Avatar","props","ref","as","className","size","form","url","name","monochrome","style","otherProps","initials","colorIndex"],"sources":["../../../../../src/components/Avatar/Avatar.tsx"],"sourcesContent":["import './Avatar.css';\n\nimport React, { useMemo } from 'react';\n\nimport { cn } from '../../utils/bem';\nimport { forwardRefWithAs } from '../../utils/types/PropsWithAsAttributes';\nimport {\n  getColorIndexForName,\n  getInitialsForName,\n  MAX_COLOR_INDEX,\n} from './helpers';\n\nexport const avatarPropSize = ['m', 's', 'xs', 'l'] as const;\nexport type AvatarPropSize = typeof avatarPropSize[number];\nexport const avatarPropSizeDefault: AvatarPropSize = avatarPropSize[0];\n\nexport const avatarPropForm = ['round', 'brick', 'default'] as const;\nexport type AvatarPropForm = typeof avatarPropForm[number];\nexport const avatarPropFormDefault: AvatarPropForm = avatarPropForm[0];\n\ntype Props = {\n  url?: string;\n  name?: string;\n  size?: AvatarPropSize;\n  form?: AvatarPropForm;\n  children?: never;\n  monochrome?: boolean;\n};\n\nexport const cnAvatar = cn('Avatar');\n\nexport const Avatar = forwardRefWithAs<Props>((props, ref) => {\n  const {\n    as = 'div',\n    className,\n    size = avatarPropSizeDefault,\n    form = avatarPropFormDefault,\n    url,\n    name,\n    monochrome,\n    style,\n    ...otherProps\n  } = props;\n  const Tag = as as string;\n  const initials = useMemo(() => getInitialsForName(name), [name]);\n  const colorIndex = useMemo(\n    () => getColorIndexForName(name, MAX_COLOR_INDEX, monochrome),\n    [name, monochrome],\n  );\n\n  return (\n    <Tag\n      {...otherProps}\n      style={\n        !url\n          ? { ...style, '--avatar-color': `var(--avatar-color-${colorIndex})` }\n          : style\n      }\n      className={cnAvatar(\n        { size, form, monochrome: url ? monochrome : undefined },\n        [className],\n      )}\n      ref={ref}\n    >\n      {url && <img className={cnAvatar('Image')} src={url} alt={name} />}\n      {!url && initials}\n    </Tag>\n  );\n});\n"],"mappings":"20BAAA,qBAEA,MAAOA,MAAP,EAAgBC,OAAhB,KAA+B,OAA/B,CAEA,OAASC,EAAT,uBACA,OAASC,gBAAT,+CACA,OACEC,oBADF,CAEEC,kBAFF,CAGEC,eAHF,iBAMA,MAAO,IAAMC,eAAc,CAAG,CAAC,GAAD,CAAM,GAAN,CAAW,IAAX,CAAiB,GAAjB,CAAvB,CAEP,MAAO,IAAMC,sBAAqC,CAAGD,cAAc,CAAC,CAAD,CAA5D,CAEP,MAAO,IAAME,eAAc,CAAG,CAAC,OAAD,CAAU,OAAV,CAAmB,SAAnB,CAAvB,CAEP,MAAO,IAAMC,sBAAqC,CAAGD,cAAc,CAAC,CAAD,CAA5D,CAWP,MAAO,IAAME,SAAQ,CAAGT,EAAE,CAAC,QAAD,CAAnB,CAEP,MAAO,IAAMU,OAAM,CAAGT,gBAAgB,CAAQ,SAACU,CAAD,CAAQC,CAAR,CAAgB,OAWxDD,CAXwD,CAE1DE,EAF0D,CAE1DA,CAF0D,YAErD,KAFqD,GAG1DC,CAH0D,CAWxDH,CAXwD,CAG1DG,SAH0D,GAWxDH,CAXwD,CAI1DI,IAJ0D,CAI1DA,CAJ0D,YAInDT,qBAJmD,KAWxDK,CAXwD,CAK1DK,IAL0D,CAK1DA,CAL0D,YAKnDR,qBALmD,GAM1DS,CAN0D,CAWxDN,CAXwD,CAM1DM,GAN0D,CAO1DC,CAP0D,CAWxDP,CAXwD,CAO1DO,IAP0D,CAQ1DC,CAR0D,CAWxDR,CAXwD,CAQ1DQ,UAR0D,CAS1DC,CAT0D,CAWxDT,CAXwD,CAS1DS,KAT0D,CAUvDC,CAVuD,0BAWxDV,CAXwD,YAatDW,CAAQ,CAAGvB,OAAO,CAAC,iBAAMI,mBAAkB,CAACe,CAAD,CAAxB,CAAD,CAAiC,CAACA,CAAD,CAAjC,CAboC,CActDK,CAAU,CAAGxB,OAAO,CACxB,iBAAMG,qBAAoB,CAACgB,CAAD,CAAOd,eAAP,CAAwBe,CAAxB,CAA1B,CADwB,CAExB,CAACD,CAAD,CAAOC,CAAP,CAFwB,CAdkC,CAmB5D,MACE,qBARUN,CAQV,kBACMQ,CADN,EAEE,KAAK,CACFJ,CAAD,CAEIG,CAFJ,gCACSA,CADT,MACgB,8CAAwCG,CAAxC,KADhB,EAHJ,CAOE,SAAS,CAAEd,QAAQ,CACjB,CAAEM,IAAI,CAAJA,CAAF,CAAQC,IAAI,CAAJA,CAAR,CAAcG,UAAU,CAAEF,CAAG,CAAGE,CAAH,OAA7B,CADiB,CAEjB,CAACL,CAAD,CAFiB,CAPrB,CAWE,GAAG,CAAEF,CAXP,GAaGK,CAAG,EAAI,2BAAK,SAAS,CAAER,QAAQ,CAAC,OAAD,CAAxB,CAAmC,GAAG,CAAEQ,CAAxC,CAA6C,GAAG,CAAEC,CAAlD,EAbV,CAcG,CAACD,CAAD,EAAQK,CAdX,CAiBH,CArCqC,CAA/B"}