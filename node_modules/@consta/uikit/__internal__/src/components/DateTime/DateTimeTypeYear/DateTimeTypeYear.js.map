{"version":3,"file":"DateTimeTypeYear.js","names":["addYears","startOfDecade","ruLocale","React","forwardRef","useEffect","DateTime10Years","DateTime100YearSlider","DateTimeLabel","DateTimeToggler","getDecadeTitle","getHandleSelectDate","getYearsOfDecade","isEqualYear","moveTypes","useCurrentVisibleDate","dateTimePropView","dateTimePropViewDefault","cnDateTimeMixLayout","DateTimeTypeYear","props","ref","minDate","maxDate","value","onChange","onChangeRange","disableDates","currentVisibleDateProp","currentVisibleDate","events","locale","className","view","onMove","onChangeCurrentVisibleDate","otherProps","startOfUnit","setCurrentVisibleDate","handleSelectDate","isEqualUnit","pageOneYearsOfDecade","date","pageOneLabel","handleNext","handlePrev","pageTwoCurrentVisibleDate","pageTwoYearsOfDecade","pageTwoLabel"],"sources":["../../../../../../src/components/DateTime/DateTimeTypeYear/DateTimeTypeYear.tsx"],"sourcesContent":["import { addYears, startOfDecade } from 'date-fns';\nimport ruLocale from 'date-fns/locale/ru';\nimport React, { forwardRef, useEffect } from 'react';\n\nimport { DateTime10Years } from '../DateTime10Years/DateTime10Years';\nimport { DateTime100YearSlider } from '../DateTime100YearSlider/DateTime100YearSlider';\nimport { DateTimeLabel } from '../DateTimeLabel/DateTimeLabel';\nimport { DateTimeToggler } from '../DateTimeToggler/DateTimeToggler';\nimport {\n  DateTimeTypeComponent,\n  getDecadeTitle,\n  getHandleSelectDate,\n  getYearsOfDecade,\n  isEqualYear,\n  moveTypes,\n  useCurrentVisibleDate,\n} from '../helpers';\nimport { dateTimePropView, dateTimePropViewDefault } from '../helpers/types';\nimport { cnDateTimeMixLayout } from '../mixs';\n\nexport const DateTimeTypeYear: DateTimeTypeComponent<'year'> = forwardRef(\n  (props, ref) => {\n    const {\n      minDate,\n      maxDate,\n      value,\n      onChange,\n      onChangeRange,\n      disableDates,\n      currentVisibleDate: currentVisibleDateProp,\n      events,\n      locale = ruLocale,\n      className,\n      view = dateTimePropViewDefault,\n      onMove,\n      onChangeCurrentVisibleDate,\n      ...otherProps\n    } = props;\n\n    useEffect(() => {\n      onMove?.(moveTypes[0]);\n    }, []);\n\n    const [currentVisibleDate, setCurrentVisibleDate] = useCurrentVisibleDate({\n      currentVisibleDate: currentVisibleDateProp,\n      maxDate,\n      minDate,\n      value,\n      startOfUnit: startOfDecade,\n      onChangeCurrentVisibleDate,\n    });\n\n    const handleSelectDate = getHandleSelectDate({\n      minDate,\n      maxDate,\n      value,\n      onChange,\n      onChangeRange,\n      isEqualUnit: isEqualYear,\n    });\n\n    const pageOneYearsOfDecade = getYearsOfDecade({\n      date: currentVisibleDate,\n      onChange: handleSelectDate,\n      value,\n      disableDates,\n      events,\n      minDate,\n      maxDate,\n      locale,\n    });\n\n    const pageOneLabel = getDecadeTitle(currentVisibleDate);\n\n    const handleNext = () =>\n      setCurrentVisibleDate(addYears(currentVisibleDate, 10));\n    const handlePrev = () =>\n      setCurrentVisibleDate(addYears(currentVisibleDate, -10));\n\n    if (view === dateTimePropView[0]) {\n      return (\n        <div\n          {...otherProps}\n          className={cnDateTimeMixLayout({ view }, [className])}\n          ref={ref}\n        >\n          <DateTimeToggler\n            className={cnDateTimeMixLayout('Label')}\n            prevOnClick={handlePrev}\n            nextOnClick={handleNext}\n            label={pageOneLabel}\n          />\n          <DateTime10Years years={pageOneYearsOfDecade} />\n        </div>\n      );\n    }\n\n    const pageTwoCurrentVisibleDate = addYears(currentVisibleDate, 10);\n\n    const pageTwoYearsOfDecade = getYearsOfDecade({\n      date: pageTwoCurrentVisibleDate,\n      onChange: handleSelectDate,\n      value,\n      events,\n      disableDates,\n      minDate,\n      maxDate,\n      locale,\n    });\n\n    const pageTwoLabel = getDecadeTitle(pageTwoCurrentVisibleDate);\n\n    if (view === dateTimePropView[1]) {\n      return (\n        <div\n          {...otherProps}\n          className={cnDateTimeMixLayout({ view }, [className])}\n          ref={ref}\n        >\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeToggler\n              className={cnDateTimeMixLayout('Label')}\n              prevOnClick={handlePrev}\n              label={pageOneLabel}\n            />\n            <DateTime10Years years={pageOneYearsOfDecade} />\n          </div>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeToggler\n              className={cnDateTimeMixLayout('Label')}\n              nextOnClick={handleNext}\n              label={pageTwoLabel}\n            />\n            <DateTime10Years years={pageTwoYearsOfDecade} />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        {...otherProps}\n        className={cnDateTimeMixLayout({ view }, [className])}\n        ref={ref}\n      >\n        <DateTime100YearSlider\n          className={cnDateTimeMixLayout('Slider')}\n          currentVisibleDate={currentVisibleDate}\n          onChange={setCurrentVisibleDate}\n          value={value}\n          locale={locale}\n        />\n        <div className={cnDateTimeMixLayout('PageWrapper')}>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeLabel\n              className={cnDateTimeMixLayout('Label')}\n              label={pageOneLabel}\n            />\n            <DateTime10Years years={pageOneYearsOfDecade} />\n          </div>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeLabel\n              className={cnDateTimeMixLayout('Label')}\n              label={pageTwoLabel}\n            />\n            <DateTime10Years years={pageTwoYearsOfDecade} />\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n"],"mappings":"4UAAA,OAASA,QAAT,CAAmBC,aAAnB,KAAwC,UAAxC,CACA,MAAOC,SAAP,KAAqB,oBAArB,CACA,MAAOC,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CAEA,OAASC,eAAT,0CACA,OAASC,qBAAT,sDACA,OAASC,aAAT,sCACA,OAASC,eAAT,0CACA,OAEEC,cAFF,CAGEC,mBAHF,CAIEC,gBAJF,CAKEC,WALF,CAMEC,SANF,CAOEC,qBAPF,kBASA,OAASC,gBAAT,CAA2BC,uBAA3B,wBACA,OAASC,mBAAT,eAEA,MAAO,IAAMC,iBAA+C,CAAGf,UAAU,CACvE,SAACgB,CAAD,CAAQC,CAAR,CAAgB,CACd,GACEC,EADF,CAeIF,CAfJ,CACEE,OADF,CAEEC,CAFF,CAeIH,CAfJ,CAEEG,OAFF,CAGEC,CAHF,CAeIJ,CAfJ,CAGEI,KAHF,CAIEC,CAJF,CAeIL,CAfJ,CAIEK,QAJF,CAKEC,CALF,CAeIN,CAfJ,CAKEM,aALF,CAMEC,CANF,CAeIP,CAfJ,CAMEO,YANF,CAOsBC,CAPtB,CAeIR,CAfJ,CAOES,kBAPF,CAQEC,CARF,CAeIV,CAfJ,CAQEU,MARF,GAeIV,CAfJ,CASEW,MATF,CASEA,CATF,YASW7B,QATX,GAUE8B,CAVF,CAeIZ,CAfJ,CAUEY,SAVF,GAeIZ,CAfJ,CAWEa,IAXF,CAWEA,CAXF,YAWShB,uBAXT,GAYEiB,CAZF,CAeId,CAfJ,CAYEc,MAZF,CAaEC,CAbF,CAeIf,CAfJ,CAaEe,0BAbF,CAcKC,CAdL,0BAeIhB,CAfJ,YAiBAf,SAAS,CAAC,UAAM,QACd6B,CADc,WACdA,CADc,QACdA,CAAM,CAAGpB,SAAS,CAAC,CAAD,CAAZ,CACP,CAFQ,CAEN,EAFM,CAlBK,OAsBsCC,qBAAqB,CAAC,CACxEc,kBAAkB,CAAED,CADoD,CAExEL,OAAO,CAAPA,CAFwE,CAGxED,OAAO,CAAPA,CAHwE,CAIxEE,KAAK,CAALA,CAJwE,CAKxEa,WAAW,CAAEpC,aAL2D,CAMxEkC,0BAA0B,CAA1BA,CANwE,CAAD,CAtB3D,uBAsBPN,CAtBO,MAsBaS,CAtBb,MA+BRC,CAAgB,CAAG5B,mBAAmB,CAAC,CAC3CW,OAAO,CAAPA,CAD2C,CAE3CC,OAAO,CAAPA,CAF2C,CAG3CC,KAAK,CAALA,CAH2C,CAI3CC,QAAQ,CAARA,CAJ2C,CAK3CC,aAAa,CAAbA,CAL2C,CAM3Cc,WAAW,CAAE3B,WAN8B,CAAD,CA/B9B,CAwCR4B,CAAoB,CAAG7B,gBAAgB,CAAC,CAC5C8B,IAAI,CAAEb,CADsC,CAE5CJ,QAAQ,CAAEc,CAFkC,CAG5Cf,KAAK,CAALA,CAH4C,CAI5CG,YAAY,CAAZA,CAJ4C,CAK5CG,MAAM,CAANA,CAL4C,CAM5CR,OAAO,CAAPA,CAN4C,CAO5CC,OAAO,CAAPA,CAP4C,CAQ5CQ,MAAM,CAANA,CAR4C,CAAD,CAxC/B,CAmDRY,CAAY,CAAGjC,cAAc,CAACmB,CAAD,CAnDrB,CAqDRe,CAAU,CAAG,iBACjBN,EAAqB,CAACtC,QAAQ,CAAC6B,CAAD,CAAqB,EAArB,CAAT,CADJ,CArDL,CAuDRgB,CAAU,CAAG,iBACjBP,EAAqB,CAACtC,QAAQ,CAAC6B,CAAD,CAAqB,CAAC,EAAtB,CAAT,CADJ,CAvDL,CA0Dd,GAAII,CAAI,GAAKjB,gBAAgB,CAAC,CAAD,CAA7B,CACE,MACE,4CACMoB,CADN,EAEE,SAAS,CAAElB,mBAAmB,CAAC,CAAEe,IAAI,CAAJA,CAAF,CAAD,CAAW,CAACD,CAAD,CAAX,CAFhC,CAGE,GAAG,CAAEX,CAHP,GAKE,oBAAC,eAAD,EACE,SAAS,CAAEH,mBAAmB,CAAC,OAAD,CADhC,CAEE,WAAW,CAAE2B,CAFf,CAGE,WAAW,CAAED,CAHf,CAIE,KAAK,CAAED,CAJT,EALF,CAWE,oBAAC,eAAD,EAAiB,KAAK,CAAEF,CAAxB,EAXF,CADF,CA3DY,GA4ERK,EAAyB,CAAG9C,QAAQ,CAAC6B,CAAD,CAAqB,EAArB,CA5E5B,CA8ERkB,CAAoB,CAAGnC,gBAAgB,CAAC,CAC5C8B,IAAI,CAAEI,CADsC,CAE5CrB,QAAQ,CAAEc,CAFkC,CAG5Cf,KAAK,CAALA,CAH4C,CAI5CM,MAAM,CAANA,CAJ4C,CAK5CH,YAAY,CAAZA,CAL4C,CAM5CL,OAAO,CAAPA,CAN4C,CAO5CC,OAAO,CAAPA,CAP4C,CAQ5CQ,MAAM,CAANA,CAR4C,CAAD,CA9E/B,CAyFRiB,CAAY,CAAGtC,cAAc,CAACoC,CAAD,CAzFrB,OA2FVb,EAAI,GAAKjB,gBAAgB,CAAC,CAAD,CA3Ff,CA6FV,2CACMoB,CADN,EAEE,SAAS,CAAElB,mBAAmB,CAAC,CAAEe,IAAI,CAAJA,CAAF,CAAD,CAAW,CAACD,CAAD,CAAX,CAFhC,CAGE,GAAG,CAAEX,CAHP,GAKE,2BAAK,SAAS,CAAEH,mBAAmB,CAAC,MAAD,CAAnC,EACE,oBAAC,eAAD,EACE,SAAS,CAAEA,mBAAmB,CAAC,OAAD,CADhC,CAEE,WAAW,CAAE2B,CAFf,CAGE,KAAK,CAAEF,CAHT,EADF,CAME,oBAAC,eAAD,EAAiB,KAAK,CAAEF,CAAxB,EANF,CALF,CAaE,2BAAK,SAAS,CAAEvB,mBAAmB,CAAC,MAAD,CAAnC,EACE,oBAAC,eAAD,EACE,SAAS,CAAEA,mBAAmB,CAAC,OAAD,CADhC,CAEE,WAAW,CAAE0B,CAFf,CAGE,KAAK,CAAEI,CAHT,EADF,CAME,oBAAC,eAAD,EAAiB,KAAK,CAAED,CAAxB,EANF,CAbF,CA7FU,CAuHZ,2CACMX,CADN,EAEE,SAAS,CAAElB,mBAAmB,CAAC,CAAEe,IAAI,CAAJA,CAAF,CAAD,CAAW,CAACD,CAAD,CAAX,CAFhC,CAGE,GAAG,CAAEX,CAHP,GAKE,oBAAC,qBAAD,EACE,SAAS,CAAEH,mBAAmB,CAAC,QAAD,CADhC,CAEE,kBAAkB,CAAEW,CAFtB,CAGE,QAAQ,CAAES,CAHZ,CAIE,KAAK,CAAEd,CAJT,CAKE,MAAM,CAAEO,CALV,EALF,CAYE,2BAAK,SAAS,CAAEb,mBAAmB,CAAC,aAAD,CAAnC,EACE,2BAAK,SAAS,CAAEA,mBAAmB,CAAC,MAAD,CAAnC,EACE,oBAAC,aAAD,EACE,SAAS,CAAEA,mBAAmB,CAAC,OAAD,CADhC,CAEE,KAAK,CAAEyB,CAFT,EADF,CAKE,oBAAC,eAAD,EAAiB,KAAK,CAAEF,CAAxB,EALF,CADF,CAQE,2BAAK,SAAS,CAAEvB,mBAAmB,CAAC,MAAD,CAAnC,EACE,oBAAC,aAAD,EACE,SAAS,CAAEA,mBAAmB,CAAC,OAAD,CADhC,CAEE,KAAK,CAAE8B,CAFT,EADF,CAKE,oBAAC,eAAD,EAAiB,KAAK,CAAED,CAAxB,EALF,CARF,CAZF,CA8BH,CAtJsE,CAAlE"}