{"version":3,"file":"DateTime.js","names":["React","forwardRef","useMemo","useRef","usePropsHandler","useForkRef","getByMap","DateTimeTypeDate","DateTimeTypeDateTime","DateTimeTypeMonth","DateTimeTypeTime","DateTimeTypeYear","isTypeWithTime","getTimeOptionsKey","dateTimePropTypeDefault","typeMap","COMPONENT_NAME","DateTime","props","ref","dateTimeRef","type","timeOptions","multiplicityHours","multiplicityMinutes","multiplicitySeconds","otherProps","effectiveTimeOptions","hours","step","minutes","seconds","timeProps","Component"],"sources":["../../../../../src/components/DateTime/DateTime.tsx"],"sourcesContent":["import React, { forwardRef, useMemo, useRef } from 'react';\n\nimport { usePropsHandler } from '##/components/EventInterceptor/usePropsHandler';\nimport { useForkRef } from '##/hooks/useForkRef/useForkRef';\nimport { getByMap } from '##/utils/getByMap';\n\nimport { DateTimeTypeDate } from './DateTimeTypeDate/DateTimeTypeDate';\nimport { DateTimeTypeDateTime } from './DateTimeTypeDateTime/DateTimeTypeDateTime';\nimport { DateTimeTypeMonth } from './DateTimeTypeMonth/DateTimeTypeMonth';\nimport { DateTimeTypeTime } from './DateTimeTypeTime/DateTimeTypeTime';\nimport { DateTimeTypeYear } from './DateTimeTypeYear/DateTimeTypeYear';\nimport { isTypeWithTime } from './helpers';\nimport { getTimeOptionsKey } from './helpers/getTimeOptionsKey';\nimport {\n  DateTimeComponent,\n  DateTimePropType,\n  dateTimePropTypeDefault,\n  DateTimeTypeComponent,\n  TimeOptions,\n} from './helpers/types';\n\nconst typeMap: Record<\n  DateTimePropType,\n  DateTimeTypeComponent<DateTimePropType>\n> = {\n  'date': DateTimeTypeDate,\n  'month': DateTimeTypeMonth,\n  'year': DateTimeTypeYear,\n  'time': DateTimeTypeTime,\n  'date-time': DateTimeTypeDateTime,\n} as const;\n\nexport const COMPONENT_NAME = 'DateTime' as const;\n\nexport const DateTime: DateTimeComponent = forwardRef((props, ref) => {\n  const dateTimeRef = useRef<HTMLDivElement>(null);\n  const {\n    type = dateTimePropTypeDefault,\n    timeOptions,\n    multiplicityHours,\n    multiplicityMinutes,\n    multiplicitySeconds,\n    ...otherProps\n  } = usePropsHandler(COMPONENT_NAME, props, dateTimeRef);\n\n  // TODO: major - удалить multiplicity* props конвертацию, используйте timeOptions напрямую\n  const effectiveTimeOptions = useMemo((): TimeOptions => {\n    return {\n      hours:\n        timeOptions?.hours ??\n        (multiplicityHours !== undefined\n          ? { step: multiplicityHours }\n          : undefined),\n      minutes:\n        timeOptions?.minutes ??\n        (multiplicityMinutes !== undefined\n          ? { step: multiplicityMinutes }\n          : undefined),\n      seconds:\n        timeOptions?.seconds ??\n        (multiplicitySeconds !== undefined\n          ? { step: multiplicitySeconds }\n          : undefined),\n    };\n  }, [\n    getTimeOptionsKey(timeOptions),\n    multiplicityHours,\n    multiplicityMinutes,\n    multiplicitySeconds,\n  ]);\n\n  const timeProps = useMemo(\n    () =>\n      isTypeWithTime(type) ? { timeOptions: effectiveTimeOptions } : undefined,\n    [type, effectiveTimeOptions],\n  );\n\n  const Component = getByMap(typeMap, type);\n\n  return (\n    <Component\n      {...otherProps}\n      {...timeProps}\n      ref={useForkRef([ref, dateTimeRef])}\n    />\n  );\n});\n\nexport * from './helpers/types';\n"],"mappings":"0LAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,OAA5B,CAAqCC,MAArC,KAAmD,OAAnD,CAEA,OAASC,eAAT,2CACA,OAASC,UAAT,yCACA,OAASC,QAAT,4BAEA,OAASC,gBAAT,2CACA,OAASC,oBAAT,mDACA,OAASC,iBAAT,6CACA,OAASC,gBAAT,2CACA,OAASC,gBAAT,2CACA,OAASC,cAAT,iBACA,OAASC,iBAAT,mCACA,OAGEC,uBAHF,uBAQA,GAAMC,QAGL,CAAG,CACF,KAAQR,gBADN,CAEF,MAASE,iBAFP,CAGF,KAAQE,gBAHN,CAIF,KAAQD,gBAJN,CAKF,YAAaF,oBALX,CAHJ,CAWA,MAAO,IAAMQ,eAAc,CAAG,UAAvB,CAEP,MAAO,IAAMC,SAA2B,CAAGhB,UAAU,CAAC,SAACiB,CAAD,CAAQC,CAAR,CAAgB,IAC9DC,EAAW,CAAGjB,MAAM,CAAiB,IAAjB,CAD0C,GAShEC,eAAe,CAACY,cAAD,CAAiBE,CAAjB,CAAwBE,CAAxB,CATiD,KAGlEC,IAHkE,CAGlEA,CAHkE,YAG3DP,uBAH2D,GAIlEQ,CAJkE,GAIlEA,WAJkE,CAKlEC,CALkE,GAKlEA,iBALkE,CAMlEC,CANkE,GAMlEA,mBANkE,CAOlEC,CAPkE,GAOlEA,mBAPkE,CAQ/DC,CAR+D,uCAY9DC,CAAoB,CAAGzB,OAAO,CAAC,UAAmB,WACtD,MAAO,CACL0B,KAAK,kBACHN,CADG,WACHA,CADG,QACHA,CAAW,CAAEM,KADV,gBAEFL,CAAiB,SAAjB,QACG,CAAEM,IAAI,CAAEN,CAAR,CAJD,CAMLO,OAAO,kBACLR,CADK,WACLA,CADK,QACLA,CAAW,CAAEQ,OADR,gBAEJN,CAAmB,SAAnB,QACG,CAAEK,IAAI,CAAEL,CAAR,CATD,CAWLO,OAAO,kBACLT,CADK,WACLA,CADK,QACLA,CAAW,CAAES,OADR,gBAEJN,CAAmB,SAAnB,QACG,CAAEI,IAAI,CAAEJ,CAAR,CAdD,CAiBR,CAlBmC,CAkBjC,CACDZ,iBAAiB,CAACS,CAAD,CADhB,CAEDC,CAFC,CAGDC,CAHC,CAIDC,CAJC,CAlBiC,CAZgC,CAqC9DO,CAAS,CAAG9B,OAAO,CACvB,iBACEU,eAAc,CAACS,CAAD,CAAd,CAAuB,CAAEC,WAAW,CAAEK,CAAf,CAAvB,OADF,CADuB,CAGvB,CAACN,CAAD,CAAOM,CAAP,CAHuB,CArC2C,CA2C9DM,CAAS,CAAG3B,QAAQ,CAACS,OAAD,CAAUM,CAAV,CA3C0C,CA6CpE,MACE,qBAAC,CAAD,kBACMK,CADN,CAEMM,CAFN,EAGE,GAAG,CAAE3B,UAAU,CAAC,CAACc,CAAD,CAAMC,CAAN,CAAD,CAHjB,GAMH,CApDoD,CAA9C,CAsDP"}