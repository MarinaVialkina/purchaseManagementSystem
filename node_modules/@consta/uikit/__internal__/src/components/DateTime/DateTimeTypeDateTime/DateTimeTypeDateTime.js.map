{"version":3,"file":"DateTimeTypeDateTime.js","names":["React","forwardRef","useEffect","useRef","useState","useForkRef","cn","DateTimeTypeDate","DateTimeTypeTime","moveTypes","useOnChange","cnDateTimeTypeDateTime","DateTimeTypeDateTime","props","ref","className","onMoveProp","onMove","currentVisibleDate","value","onChange","onChangeRange","minDate","maxDate","events","disableDates","locale","onChangeCurrentVisibleDate","timeOptions","style","timeFor","otherProps","moveType","setMoveType","cssVars","setCssVars","onDateChange","onDateChangeRange","onTimeChange","valueTime","rootRef","withTime","current","window","getComputedStyle","paddingLeft","type"],"sources":["../../../../../../src/components/DateTime/DateTimeTypeDateTime/DateTimeTypeDateTime.tsx"],"sourcesContent":["import './DateTimeTypeDateTime.css';\n\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\n\nimport { useForkRef } from '../../../hooks/useForkRef/useForkRef';\nimport { cn } from '../../../utils/bem';\nimport { DateTimeTypeDate } from '../DateTimeTypeDate/DateTimeTypeDate';\nimport { DateTimeTypeTime } from '../DateTimeTypeTime/DateTimeTypeTime';\nimport { DateTimeTypeComponent, MoveType, moveTypes } from '../helpers';\nimport { useOnChange } from './useOnChange';\n\nconst cnDateTimeTypeDateTime = cn('DateTimeTypeDateTime');\n\ntype CssVars = {\n  '--root-padding-left': string;\n};\n\nexport const DateTimeTypeDateTime: DateTimeTypeComponent<'date-time'> =\n  forwardRef((props, ref) => {\n    const {\n      className,\n      onMove: onMoveProp,\n      currentVisibleDate,\n      value,\n      onChange,\n      onChangeRange,\n      minDate,\n      maxDate,\n      events,\n      disableDates,\n      locale,\n      onChangeCurrentVisibleDate,\n      timeOptions,\n      style,\n      timeFor = 'start',\n      ...otherProps\n    } = props;\n\n    const [moveType, setMoveType] = useState<MoveType>(moveTypes[2]);\n    const [cssVars, setCssVars] = useState<CssVars>({\n      '--root-padding-left': '0px',\n    });\n\n    const [onDateChange, onDateChangeRange, onTimeChange, valueTime] =\n      useOnChange(\n        onChange,\n        onChangeRange,\n        value,\n        timeFor,\n        timeOptions,\n        minDate,\n        maxDate,\n        disableDates,\n      );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const onMove = (type: MoveType) => {\n      setMoveType(type);\n      onMoveProp?.(type);\n    };\n\n    const withTime = moveType === moveTypes[2];\n\n    useEffect(() => {\n      if (rootRef.current) {\n        setCssVars({\n          '--root-padding-left':\n            window.getComputedStyle(rootRef.current).paddingLeft || '0px',\n        });\n      }\n    }, []);\n\n    return (\n      <div\n        {...otherProps}\n        className={cnDateTimeTypeDateTime({ withTime }, [className])}\n        ref={useForkRef([rootRef, ref])}\n        style={{\n          ...style,\n          ...cssVars,\n        }}\n      >\n        <DateTimeTypeDate\n          className={cnDateTimeTypeDateTime('Date', { withTime })}\n          onMove={onMove}\n          currentVisibleDate={currentVisibleDate}\n          value={value}\n          onChange={onDateChange}\n          onChangeRange={onDateChangeRange}\n          minDate={minDate}\n          disableDates={disableDates}\n          maxDate={maxDate}\n          events={events}\n          locale={locale}\n          onChangeCurrentVisibleDate={onChangeCurrentVisibleDate}\n        />\n        {withTime && (\n          <DateTimeTypeTime\n            className={cnDateTimeTypeDateTime('Time')}\n            value={valueTime}\n            onChange={onTimeChange}\n            minDate={minDate}\n            maxDate={maxDate}\n            disableDates={disableDates}\n            locale={locale}\n            timeOptions={timeOptions}\n          />\n        )}\n      </div>\n    );\n  });\n"],"mappings":"0gCAAA,mCAEA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,MAAvC,CAA+CC,QAA/C,KAA+D,OAA/D,CAEA,OAASC,UAAT,4CACA,OAASC,EAAT,0BACA,OAASC,gBAAT,4CACA,OAASC,gBAAT,4CACA,OAA0CC,SAA1C,kBACA,OAASC,WAAT,qBAEA,GAAMC,uBAAsB,CAAGL,EAAE,CAAC,sBAAD,CAAjC,CAMA,MAAO,IAAMM,qBAAwD,CACnEX,UAAU,CAAC,SAACY,CAAD,CAAQC,CAAR,CAAgB,IAEvBC,EAFuB,CAkBrBF,CAlBqB,CAEvBE,SAFuB,CAGfC,CAHe,CAkBrBH,CAlBqB,CAGvBI,MAHuB,CAIvBC,CAJuB,CAkBrBL,CAlBqB,CAIvBK,kBAJuB,CAKvBC,CALuB,CAkBrBN,CAlBqB,CAKvBM,KALuB,CAMvBC,CANuB,CAkBrBP,CAlBqB,CAMvBO,QANuB,CAOvBC,CAPuB,CAkBrBR,CAlBqB,CAOvBQ,aAPuB,CAQvBC,CARuB,CAkBrBT,CAlBqB,CAQvBS,OARuB,CASvBC,CATuB,CAkBrBV,CAlBqB,CASvBU,OATuB,CAUvBC,CAVuB,CAkBrBX,CAlBqB,CAUvBW,MAVuB,CAWvBC,CAXuB,CAkBrBZ,CAlBqB,CAWvBY,YAXuB,CAYvBC,CAZuB,CAkBrBb,CAlBqB,CAYvBa,MAZuB,CAavBC,CAbuB,CAkBrBd,CAlBqB,CAavBc,0BAbuB,CAcvBC,CAduB,CAkBrBf,CAlBqB,CAcvBe,WAduB,CAevBC,CAfuB,CAkBrBhB,CAlBqB,CAevBgB,KAfuB,GAkBrBhB,CAlBqB,CAgBvBiB,OAhBuB,CAgBvBA,CAhBuB,YAgBb,OAhBa,GAiBpBC,CAjBoB,0BAkBrBlB,CAlBqB,cAoBOT,QAAQ,CAAWK,SAAS,CAAC,CAAD,CAApB,CApBf,uBAoBlBuB,CApBkB,MAoBRC,CApBQ,QAqBK7B,QAAQ,CAAU,CAC9C,sBAAuB,KADuB,CAAV,CArBb,uBAqBlB8B,CArBkB,MAqBTC,CArBS,QA0BvBzB,WAAW,CACTU,CADS,CAETC,CAFS,CAGTF,CAHS,CAITW,CAJS,CAKTF,CALS,CAMTN,CANS,CAOTC,CAPS,CAQTE,CARS,CA1BY,uBAyBlBW,CAzBkB,MAyBJC,CAzBI,MAyBeC,CAzBf,MAyB6BC,CAzB7B,MAqCnBC,CAAO,CAAGrC,MAAM,CAAiB,IAAjB,CArCG,CA4CnBsC,CAAQ,CAAGT,CAAQ,GAAKvB,SAAS,CAAC,CAAD,CA5Cd,CAuDzB,MATAP,UAAS,CAAC,UAAM,CACVsC,CAAO,CAACE,OADE,EAEZP,CAAU,CAAC,CACT,sBACEQ,MAAM,CAACC,gBAAP,CAAwBJ,CAAO,CAACE,OAAhC,EAAyCG,WAAzC,EAAwD,KAFjD,CAAD,CAKb,CAPQ,CAON,EAPM,CAST,CACE,2CACMd,CADN,EAEE,SAAS,CAAEpB,sBAAsB,CAAC,CAAE8B,QAAQ,CAARA,CAAF,CAAD,CAAe,CAAC1B,CAAD,CAAf,CAFnC,CAGE,GAAG,CAAEV,UAAU,CAAC,CAACmC,CAAD,CAAU1B,CAAV,CAAD,CAHjB,CAIE,KAAK,gCACAe,CADA,EAEAK,CAFA,CAJP,GASE,oBAAC,gBAAD,EACE,SAAS,CAAEvB,sBAAsB,CAAC,MAAD,CAAS,CAAE8B,QAAQ,CAARA,CAAF,CAAT,CADnC,CAEE,MAAM,CA5BG,QAATxB,OAAS,CAAC6B,CAAD,CAAoB,CACjCb,CAAW,CAACa,CAAD,CADsB,QAEjC9B,CAFiC,WAEjCA,CAFiC,QAEjCA,CAAU,CAAG8B,CAAH,CACX,CAuBG,CAGE,kBAAkB,CAAE5B,CAHtB,CAIE,KAAK,CAAEC,CAJT,CAKE,QAAQ,CAAEiB,CALZ,CAME,aAAa,CAAEC,CANjB,CAOE,OAAO,CAAEf,CAPX,CAQE,YAAY,CAAEG,CARhB,CASE,OAAO,CAAEF,CATX,CAUE,MAAM,CAAEC,CAVV,CAWE,MAAM,CAAEE,CAXV,CAYE,0BAA0B,CAAEC,CAZ9B,EATF,CAuBGc,CAAQ,EACP,oBAAC,gBAAD,EACE,SAAS,CAAE9B,sBAAsB,CAAC,MAAD,CADnC,CAEE,KAAK,CAAE4B,CAFT,CAGE,QAAQ,CAAED,CAHZ,CAIE,OAAO,CAAEhB,CAJX,CAKE,OAAO,CAAEC,CALX,CAME,YAAY,CAAEE,CANhB,CAOE,MAAM,CAAEC,CAPV,CAQE,WAAW,CAAEE,CARf,EAxBJ,CAqCH,CA7FS,CADL"}