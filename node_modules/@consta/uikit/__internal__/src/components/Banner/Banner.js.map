{"version":3,"file":"Banner.js","names":["React","forwardRef","cnText","Text","useTheme","cnMixFlex","cnMixSpace","cn","isNotNil","isString","bannerPropSize","bannerPropSizeDefault","bannerPropView","bannerPropViewDefault","bannerPropStatus","bannerPropStatusDefault","bannerPropForm","bannerPropFormDefault","cnBanner","SlotWrapper","children","renderSlot","slot","index","position","renderSlots","Array","isArray","filter","map","item","getGap","gap","textSizeMap","xs","s","m","l","controlSizeMap","Banner","props","ref","leftSide","rightSide","Icon","icon","size","view","className","space","itemsGap","status","style","form","otherProps","themeClassNames","leftSlots","rightSlots","justify","length","align","pH","pV","color","accent"],"sources":["../../../../../src/components/Banner/Banner.tsx"],"sourcesContent":["import './Banner.css';\n\nimport { IconComponent } from '@consta/icons/Icon';\nimport React, { forwardRef } from 'react';\n\nimport { cnText, Text } from '##/components/Text';\nimport { useTheme } from '##/components/Theme/Theme';\nimport { cnMixFlex } from '##/mixs/MixFlex';\nimport { cnMixSpace, MixSpaceProps, Space } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\nimport { isNotNil, isString } from '##/utils/type-guards';\nimport { PropsWithJsxAttributes } from '##/utils/types/PropsWithJsxAttributes';\n\nexport const bannerPropSize = ['xs', 's', 'm', 'l'] as const;\nexport type BannerPropSize = typeof bannerPropSize[number];\nexport const bannerPropSizeDefault: BannerPropSize = bannerPropSize[2]; // 'm'\n\nexport const bannerPropView = ['filled', 'ghost', 'transparent'] as const;\nexport type BannerPropView = typeof bannerPropView[number];\nexport const bannerPropViewDefault: BannerPropView = bannerPropView[0]; // 'filled'\n\nexport const bannerPropStatus = [\n  'normal',\n  'warning',\n  'alert',\n  'success',\n  'system',\n] as const;\nexport type BannerPropStatus = typeof bannerPropStatus[number];\nexport const bannerPropStatusDefault: BannerPropStatus = bannerPropStatus[0]; // 'normal'\n\nexport const bannerPropForm = ['default', 'round', 'brick'] as const;\nexport type BannerPropForm = typeof bannerPropForm[number];\nexport const bannerPropFormDefault: BannerPropForm = bannerPropForm[0]; // 'default'\n\nexport type BannerProps = PropsWithJsxAttributes<{\n  leftSide?: React.ReactNode;\n  rightSide?: React.ReactNode;\n  icon?: IconComponent;\n  size?: BannerPropSize;\n  view?: BannerPropView;\n  space?: MixSpaceProps;\n  itemsGap?: Space | [Space, Space];\n  status?: BannerPropStatus;\n  form?: BannerPropForm;\n}>;\n\nexport const cnBanner = cn('Banner');\n\nconst SlotWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => (\n  <div className={cnBanner('Slot')}>{children}</div>\n);\n\nconst renderSlot = (slot: React.ReactNode, index: number, position: number) => {\n  if (isString(slot)) {\n    return (\n      <SlotWrapper key={cnBanner('Slot', { index, position })}>\n        <Text\n          className={cnBanner('Text')}\n          view=\"primary\"\n          weight={index === 0 && position === 0 ? 'bold' : undefined}\n          lineHeight=\"m\"\n        >\n          {slot}\n        </Text>\n      </SlotWrapper>\n    );\n  }\n\n  return (\n    <SlotWrapper key={cnBanner('Slot', { index, position })}>\n      {slot}\n    </SlotWrapper>\n  );\n};\n\nconst renderSlots = (slot: React.ReactNode, position: number) => {\n  if (Array.isArray(slot)) {\n    return slot\n      .filter(isNotNil)\n      .map((item, index) => renderSlot(item, index, position));\n  }\n  return renderSlots([slot], position);\n};\n\nconst getGap = (gap: Space | [Space, Space], index: number) => {\n  if (Array.isArray(gap)) {\n    return gap[index];\n  }\n  return gap;\n};\n\nconst textSizeMap: Record<BannerPropSize, 'xs' | 's' | 'm' | 'l'> = {\n  xs: 's',\n  s: 's',\n  m: 'm',\n  l: 'l',\n};\n\nconst controlSizeMap: Record<BannerPropSize, 'xs' | 's' | 'm'> = {\n  xs: 'xs',\n  s: 's',\n  m: 's',\n  l: 'm',\n};\n\n/**\n * Компонент Banner, отображающий содержимое слева и справа.\n * Поддерживает иконки, размеры, виды, статусы и формы.\n *\n * @property {React.ReactNode} [leftSide] - Содержимое на левой стороне.\n * @property {React.ReactNode} [rightSide] - Содержимое на правой стороне.\n * @property {IconComponent} [icon] - Иконка.\n * @property {BannerPropSize} [size] - Размер компонента.\n * @property {BannerPropView} [view] - Визуальный стиль.\n * @property {MixSpaceProps} [space] - Параметры отступов.\n * @property {Space | [Space, Space]} [itemsGap] - Отступы между элементами.\n * @property {BannerPropStatus} [status] - Статус (цветовая схема).\n * @property {BannerPropForm} [form] - Форма компонента.\n */\n\nexport const Banner = forwardRef<HTMLDivElement, BannerProps>((props, ref) => {\n  const {\n    leftSide,\n    rightSide,\n    icon: Icon,\n    size = bannerPropSizeDefault,\n    view = bannerPropViewDefault,\n    className,\n    space,\n    itemsGap = 's',\n    status = bannerPropStatusDefault,\n    style,\n    form = bannerPropFormDefault,\n    ...otherProps\n  } = props;\n\n  const { themeClassNames } = useTheme();\n\n  const leftSlots = renderSlots(\n    [\n      Icon ? <Icon className={cnBanner('Icon')} /> : null,\n      ...(Array.isArray(leftSide) ? leftSide : [leftSide]),\n    ],\n    0,\n  );\n\n  const rightSlots = renderSlots(rightSide, 1);\n\n  return (\n    <div\n      {...otherProps}\n      className={cnBanner({ view, form, size }, [\n        cnMixFlex({\n          justify:\n            rightSlots.length && !leftSlots.length\n              ? 'flex-end'\n              : 'space-between',\n          align: 'center',\n          gap: 'm',\n        }),\n        cnMixSpace(space || { pH: size, pV: 'xs' }),\n        cnText({ size: textSizeMap[size] }),\n        status !== 'system' && view === 'filled'\n          ? themeClassNames.color.accent\n          : undefined,\n        className,\n      ])}\n      style={{\n        ...style,\n        ['--banner-bg-color' as string]: `var(--color-bg-${status})`,\n        ['--banner-inner-height' as string]: `var(--control-height-${controlSizeMap[size]})`,\n      }}\n      ref={ref}\n    >\n      {leftSlots.length ? (\n        <div\n          className={cnMixFlex({ gap: getGap(itemsGap, 0), align: 'center' })}\n        >\n          {leftSlots}\n        </div>\n      ) : undefined}\n      {rightSlots.length ? (\n        <div\n          className={cnMixFlex({ gap: getGap(itemsGap, 1), align: 'center' })}\n        >\n          {rightSlots}\n        </div>\n      ) : undefined}\n    </div>\n  );\n});\n"],"mappings":"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"}